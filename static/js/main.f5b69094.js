/*! For license information please see main.f5b69094.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e,t,n){var r=n(8).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},108:function(e,t,n){"use strict";n.d(t,{mi:function(){return u},Fq:function(){return c},_j:function(){return l},$n:function(){return f}});var r=n(483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},658:function(e,t,n){"use strict";n.d(t,{Z:function(){return kr}});var r=n(462),i=n(987),a=n(791),o=n(110),u=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,l=n(144),f=n(578),h=n(326),d=n(366),p={}.constructor;function v(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(v);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=v(e[n]);return t}function m(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=v(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=y(e[r]," ");else n=y(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function k(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function w(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=k(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=b(h+":"+c+g(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=b(p+":"+c+g(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=b(m+":"+c+g(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),b(""+e+c+"{"+r,--a)+b("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,E=function(e){return _?_(e):e.replace(x,"\\$1")},I=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s((0,h.Z)((0,h.Z)(i)),u),i.selectorText="."+E(i.id)),i}(0,f.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(I),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},C={indent:1,children:!0},A=/@([\w-]+)/,N=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(A);for(var a in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=C);var t=k(e).linebreak;if(null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),R=/@media|@supports\s+/,P={onCreateRule:function(e,t,n){return R.test(e)?new N(e,t,n):null}},O={indent:1,children:!0},D=/@keyframes\s+([\w-]+)/,L=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(D);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:E(u(this,o)),this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=O);var t=k(e).linebreak;if(null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),M=/@keyframes\s+/,F=/\$([\w-]+)/g,Z=function(e,t){return"string"===typeof e?e.replace(F,(function(e,n){return n in t?t[n]:e})):e},U=function(e,t,n){var r=e[t],i=Z(r,n);i!==r&&(e[t]=i)},V={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new L(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&U(e,"animation-name",n.keyframes),"animation"in e&&U(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Z(e,r.keyframes);default:return e}}},j=function(e){function t(){return e.apply(this,arguments)||this}return(0,f.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.key,this.style,n)},t}(I),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new j(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=k(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=w(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return w(this.at,this.style,e)},e}(),q=/@font-face/,W={onCreateRule:function(e,t,n){return q.test(e)?new z(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return w(this.key,this.style,e)},e}(),K={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},Y={onCreateRule:function(e,t,n){return e in Q?new G(e,t,n):null}},$=[T,P,V,B,W,K,Y],J={process:!0},X={force:!0,process:!0},ee=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,u=i.jss,s=i.Renderer,c=i.generateId,l=i.scoped,f=(0,r.Z)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+E(this.classes[h]));var d=m(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),a=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==a&&(o=(0,r.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof L&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof L&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=J);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,X)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,X)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=k(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),te=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ee(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ne=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),re=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=k(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ie=new re,ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),oe="2f1acc6c3a606b082e5eef5e54414ffb";null==ae[oe]&&(ae[oe]=0);var ue=ae[oe]++,se=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ue+i+t:a+n.key+"-"+ue+(i?"-"+i:"")+"-"+t}},ce=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},fe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},he=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},pe=ce((function(){return document.querySelector("head")}));function ve(e){var t=ie.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=pe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var me=ce((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ye=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ge=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ke=function(){function e(e){this.getPropertyValue=le,this.setProperty=fe,this.removeProperty=he,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ie.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=me();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ve(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else pe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ge(n,t);if(!1===(i=ye(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=ge(n,t),s=ye(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof te&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,we=function(){function e(e){this.id=be++,this.version="10.9.0",this.plugins=new ne,this.options={id:{minify:!1},createGenerateId:se,Renderer:c?ke:null,plugins:[]},this.generateId=se({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ie.index?0:ie.index+1);var i=new te(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ie.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=m(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),xe=function(e){return new we(e)},_e="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ee(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ee(r);a&&(t||(t={}),t[n]=a)}}return t}xe();function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Se={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Te=Se;var Ce=a.createContext(null);function Ae(){return a.useContext(Ce)}var Ne="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Re=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Pe=Date.now(),Oe="fnValues"+Pe,De="fnStyle"+ ++Pe,Le=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=m(e,{},n);return r[De]=t,r},onProcessStyle:function(e,t){if(Oe in t||De in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Oe]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[De];a&&(i.style=a(e)||{});var o=i[Oe];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Me="@global",Fe="@global ",Ze=function(){function e(e,t,n){for(var i in this.type="global",this.at=Me,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ue=function(){function e(e,t,n){this.type="global",this.at=Me,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(Fe.length);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ve=/\s*,\s*/g;function je(e,t){for(var n=e.split(Ve),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Be=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Me)return new Ze(e,t,n);if("@"===e[0]&&e.substr(0,Fe.length)===Fe)return new Ue(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,a=i?i[Me]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,r.Z)({},n,{selector:je(o,e.selector)}));delete i[Me]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var a in i)if("@"===a[0]&&a.substr(0,Me.length)===Me){var o=je(a.substr(Me.length),e.selector);t.addRule(o,i[a],(0,r.Z)({},n,{selector:o})),delete i[a]}}(e,t))}}},ze=/\s*,\s*/g,qe=/&/g,We=/\$([\w-]+)/g;var He=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(ze),r=e.split(ze),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(qe,o):o+" "+s}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(i,a,o){if("style"!==a.type)return i;var u,s,c=a,l=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(We,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,i[f],(0,r.Z)({},u,{selector:p})):l.addRule(v,i[f],(0,r.Z)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}},Ke=/[A-Z]/g,Ge=/^ms-/,Qe={};function Ye(e){return"-"+e.toLowerCase()}var $e=function(e){if(Qe.hasOwnProperty(e))return Qe[e];var t=e.replace(Ke,Ye);return Qe[e]=Ge.test(t)?"-"+t:t};function Je(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:$e(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Je):t.fallbacks=Je(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Je(e[t]);return e}return Je(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=$e(t);return t===r?e:(n.prop(r,e),null)}}},et=_e&&CSS?CSS.px:"px",tt=_e&&CSS?CSS.ms:"ms",nt=_e&&CSS?CSS.percent:"%";function rt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var it=rt({"animation-delay":tt,"animation-duration":tt,"background-position":et,"background-position-x":et,"background-position-y":et,"background-size":et,border:et,"border-bottom":et,"border-bottom-left-radius":et,"border-bottom-right-radius":et,"border-bottom-width":et,"border-left":et,"border-left-width":et,"border-radius":et,"border-right":et,"border-right-width":et,"border-top":et,"border-top-left-radius":et,"border-top-right-radius":et,"border-top-width":et,"border-width":et,"border-block":et,"border-block-end":et,"border-block-end-width":et,"border-block-start":et,"border-block-start-width":et,"border-block-width":et,"border-inline":et,"border-inline-end":et,"border-inline-end-width":et,"border-inline-start":et,"border-inline-start-width":et,"border-inline-width":et,"border-start-start-radius":et,"border-start-end-radius":et,"border-end-start-radius":et,"border-end-end-radius":et,margin:et,"margin-bottom":et,"margin-left":et,"margin-right":et,"margin-top":et,"margin-block":et,"margin-block-end":et,"margin-block-start":et,"margin-inline":et,"margin-inline-end":et,"margin-inline-start":et,padding:et,"padding-bottom":et,"padding-left":et,"padding-right":et,"padding-top":et,"padding-block":et,"padding-block-end":et,"padding-block-start":et,"padding-inline":et,"padding-inline-end":et,"padding-inline-start":et,"mask-position-x":et,"mask-position-y":et,"mask-size":et,height:et,width:et,"min-height":et,"max-height":et,"min-width":et,"max-width":et,bottom:et,left:et,top:et,right:et,inset:et,"inset-block":et,"inset-block-end":et,"inset-block-start":et,"inset-inline":et,"inset-inline-end":et,"inset-inline-start":et,"box-shadow":et,"text-shadow":et,"column-gap":et,"column-rule":et,"column-rule-width":et,"column-width":et,"font-size":et,"font-size-delta":et,"letter-spacing":et,"text-decoration-thickness":et,"text-indent":et,"text-stroke":et,"text-stroke-width":et,"word-spacing":et,motion:et,"motion-offset":et,outline:et,"outline-offset":et,"outline-width":et,perspective:et,"perspective-origin-x":nt,"perspective-origin-y":nt,"transform-origin":nt,"transform-origin-x":nt,"transform-origin-y":nt,"transform-origin-z":nt,"transition-delay":tt,"transition-duration":tt,"vertical-align":et,"flex-basis":et,"shape-margin":et,size:et,gap:et,grid:et,"grid-gap":et,"row-gap":et,"grid-row-gap":et,"grid-column-gap":et,"grid-template-rows":et,"grid-template-columns":et,"grid-auto-rows":et,"grid-auto-columns":et,"box-shadow-x":et,"box-shadow-y":et,"box-shadow-blur":et,"box-shadow-spread":et,"font-line-height":et,"text-shadow-x":et,"text-shadow-y":et,"text-shadow-blur":et});function at(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=at(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=at(i,t[i],n);else for(var a in t)t[a]=at(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||it[e];return!o||0===t&&o===et?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ot=function(e){void 0===e&&(e={});var t=rt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=at(r,e[r],t);return e},onChangeValue:function(e,n){return at(n,e,t)}}},ut=n(433),st="",ct="",lt="",ft="",ht=c&&"ontouchstart"in document.documentElement;if(c){var dt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},pt=document.createElement("p").style;for(var vt in dt)if(vt+"Transform"in pt){st=vt,ct=dt[vt];break}"Webkit"===st&&"msHyphens"in pt&&(st="ms",ct=dt.ms,ft="edge"),"Webkit"===st&&"-apple-trailing-word"in pt&&(lt="apple")}var mt=st,yt=ct,gt=lt,kt=ft,bt=ht;var wt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===mt?"-webkit-"+e:yt+e)}},xt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===mt?yt+"print-"+e:e)}},_t=/[-\s]+(.)?/g;function Et(e,t){return t?t.toUpperCase():""}function It(e){return e.replace(_t,Et)}function St(e){return It("-"+e)}var Tt,Ct={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===mt){var n="mask-image";if(It(n)in t)return e;if(mt+St(n)in t)return yt+e}return e}},At={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==gt||bt?e:yt+e)}},Nt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:yt+e)}},Rt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:yt+e)}},Pt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===mt||"ms"===mt&&"edge"!==kt?yt+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===mt||"ms"===mt||"apple"===gt?yt+e:e)}},Dt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===mt?"WebkitColumn"+St(e)in t&&yt+"column-"+e:"Moz"===mt&&("page"+St(e)in t&&"page-"+e))}},Lt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===mt)return e;var n=e.replace("-inline","");return mt+St(n)in t&&yt+n}},Mt={supportedProperty:function(e,t){return It(e)in t&&e}},Ft={supportedProperty:function(e,t){var n=St(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:mt+n in t?yt+e:"Webkit"!==mt&&"Webkit"+n in t&&"-webkit-"+e}},Zt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===mt?""+yt+e:e)}},Ut={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===mt?yt+"scroll-chaining":e)}},Vt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Vt[e];return!!n&&(mt+St(n)in t&&yt+n)}},Bt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},zt=Object.keys(Bt),qt=function(e){return yt+e},Wt={supportedProperty:function(e,t,n){var r=n.multiple;if(zt.indexOf(e)>-1){var i=Bt[e];if(!Array.isArray(i))return mt+St(i)in t&&yt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(mt+St(i[0])in t))return!1;return i.map(qt)}return!1}},Ht=[wt,xt,Ct,At,Nt,Rt,Pt,Ot,Dt,Lt,Mt,Ft,Zt,Ut,jt,Wt],Kt=Ht.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Gt=Ht.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,ut.Z)(t.noPrefill)),e}),[]),Qt={};if(c){Tt=document.createElement("p");var Yt=window.getComputedStyle(document.documentElement,"");for(var $t in Yt)isNaN($t)||(Qt[Yt[$t]]=Yt[$t]);Gt.forEach((function(e){return delete Qt[e]}))}function Jt(e,t){if(void 0===t&&(t={}),!Tt)return e;if(null!=Qt[e])return Qt[e];"transition"!==e&&"transform"!==e||(t[e]=e in Tt.style);for(var n=0;n<Kt.length&&(Qt[e]=Kt[n](e,Tt.style,t),!Qt[e]);n++);try{Tt.style[e]=""}catch(r){return!1}return Qt[e]}var Xt,en={},tn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},nn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function rn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Jt(t):", "+Jt(n);return r||(t||n)}function an(e,t){var n=t;if(!Xt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=en[r])return en[r];try{Xt.style[e]=n}catch(i){return en[r]=!1,!1}if(tn[e])n=n.replace(nn,rn);else if(""===Xt.style[e]&&("-ms-flex"===(n=yt+n)&&(Xt.style[e]="-ms-flexbox"),Xt.style[e]=n,""===Xt.style[e]))return en[r]=!1,!1;return Xt.style[e]="",en[r]=n,en[r]}c&&(Xt=document.createElement("p"));var on=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Jt(n);a&&a!==n&&(i=!0);var o=!1,u=an(a,g(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===mt?e:"@"+yt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return an(t,g(e))||e}}};var un=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var sn=xe({plugins:[Le(),Be(),He(),Xe(),ot(),"undefined"===typeof window?null:on(),un()]}),cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Re.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ne]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),ln={disableGeneration:!1,generateClassName:cn,jss:sn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},fn=a.createContext(ln);var hn=-1e9;function dn(){return hn+=1}var pn=n(2);function vn(e){return e&&"object"===(0,pn.Z)(e)&&e.constructor===Object}function mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return vn(e)&&vn(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(vn(t[r])&&r in e?i[r]=mn(e[r],t[r],n):i[r]=t[r])})),i}function yn(e){var t="function"===typeof e;return{create:function(n,i){var a;try{a=t?e(n):e}catch(s){throw s}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],u=(0,r.Z)({},a);return Object.keys(o).forEach((function(e){u[e]=mn(u[e],o[e])})),u},options:{}}}var gn={};function kn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ie({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function bn(e,t){var n=e.state,i=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=Te.get(a.sheetsManager,o,i);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Te.set(a.sheetsManager,o,i,s));var c=(0,r.Z)({},o.options,a,{theme:i,flip:"boolean"===typeof a.flip?a.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=Te.get(a.sheetsCache,o,i));var h=o.create(i,u);f||((f=a.jss.createStyleSheet(h,(0,r.Z)({link:!1},c))).attach(),a.sheetsCache&&Te.set(a.sheetsCache,o,i,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=Ee(h)}if(s.dynamicStyles){var d=a.jss.createStyleSheet(s.dynamicStyles,(0,r.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ie({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function wn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function xn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Te.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Te.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function _n(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?gn:s,l=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=yn(e),h=n||o||"makeStyles";f.options={index:dn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ae()||c,i=(0,r.Z)({},a.useContext(fn),l),o=a.useRef(),s=a.useRef();_n((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:i,theme:t};return bn(r,e),s.current=!1,o.current=r,function(){xn(r)}}),[t,f]),a.useEffect((function(){s.current&&wn(o.current,e),s.current=!0}));var h=kn(o.current,e.classes,u);return h};return d}function In(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,c=void 0!==s&&s,l=t.name,f=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var h=l,d=En(e,(0,r.Z)({defaultTheme:o,Component:n,name:l||n.displayName,classNamePrefix:h},f)),p=a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=d((0,r.Z)({},n.defaultProps,e)),p=f;return("string"===typeof l||c)&&(u=Ae()||o,l&&(p=In({theme:u,name:l,props:f})),c&&!p.theme&&(p.theme=u)),a.createElement(n,(0,r.Z)({ref:s||t,classes:h},p))}));return u()(p,n),p}},Tn=["xs","sm","md","lg","xl"];function Cn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,o=void 0===a?"px":a,u=e.step,s=void 0===u?5:u,c=(0,i.Z)(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function f(e,t){var r=Tn.indexOf(t);return r===Tn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Tn[r+1]]?n[Tn[r+1]]:t)-s/100).concat(o,")")}return(0,r.Z)({keys:Tn,values:n,up:l,down:function(e){var t=Tn.indexOf(e)+1,r=n[Tn[t]];return t===Tn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(o,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var An=n(942);function Nn(e,t,n){var i;return(0,r.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,r.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,An.Z)({},e.up("sm"),(0,r.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,An.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,An.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var Rn=n(483),Pn={black:"#000",white:"#fff"},On={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Dn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Ln={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Mn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Un={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vn=n(108),jn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pn.white,default:On[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bn={text:{primary:Pn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:On[800],default:"#303030"},action:{active:Pn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Vn.$n)(e.main,i):"dark"===t&&(e.dark=(0,Vn._j)(e.main,a)))}function qn(e){var t=e.primary,n=void 0===t?{light:Dn[300],main:Dn[500],dark:Dn[700]}:t,a=e.secondary,o=void 0===a?{light:Ln.A200,main:Ln.A400,dark:Ln.A700}:a,u=e.error,s=void 0===u?{light:Mn[300],main:Mn[500],dark:Mn[700]}:u,c=e.warning,l=void 0===c?{light:Fn[300],main:Fn[500],dark:Fn[700]}:c,f=e.info,h=void 0===f?{light:Zn[300],main:Zn[500],dark:Zn[700]}:f,d=e.success,p=void 0===d?{light:Un[300],main:Un[500],dark:Un[700]}:d,v=e.type,m=void 0===v?"light":v,y=e.contrastThreshold,g=void 0===y?3:y,k=e.tonalOffset,b=void 0===k?.2:k,w=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){return(0,Vn.mi)(e,Bn.text.primary)>=g?Bn.text.primary:jn.text.primary}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,Rn.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,Rn.Z)(5,JSON.stringify(e.main)));return zn(e,"light",n,b),zn(e,"dark",i,b),e.contrastText||(e.contrastText=x(e.main)),e},E={dark:Bn,light:jn};return mn((0,r.Z)({common:Pn,type:m,primary:_(n),secondary:_(o,"A400","A200","A700"),error:_(s),warning:_(l),info:_(h),success:_(p),grey:On,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:b},E[m]),w)}function Wn(e){return Math.round(1e5*e)/1e5}function Hn(e){return Wn(e)}var Kn={textTransform:"uppercase"},Gn='"Roboto", "Helvetica", "Arial", sans-serif';function Qn(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,o=void 0===a?Gn:a,u=n.fontSize,s=void 0===u?14:u,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,_=b||function(e){return"".concat(e/g*x,"rem")},E=function(e,t,n,i,a){return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:_(t),lineHeight:n},o===Gn?{letterSpacing:"".concat(Wn(i/t),"em")}:{},a,k)},I={h1:E(l,96,1.167,-1.5),h2:E(l,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(p,14,1.75,.4,Kn),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,Kn)};return mn((0,r.Z)({htmlFontSize:g,pxToRem:_,round:Hn,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},I),w,{clone:!1})}function Yn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var $n=["none",Yn(0,2,1,-1,0,1,1,0,0,1,3,0),Yn(0,3,1,-2,0,2,2,0,0,1,5,0),Yn(0,3,3,-2,0,3,4,0,0,1,8,0),Yn(0,2,4,-1,0,4,5,0,0,1,10,0),Yn(0,3,5,-1,0,5,8,0,0,1,14,0),Yn(0,3,5,-1,0,6,10,0,0,1,18,0),Yn(0,4,5,-2,0,7,10,1,0,2,16,1),Yn(0,5,5,-3,0,8,10,1,0,3,14,2),Yn(0,5,6,-3,0,9,12,1,0,3,16,2),Yn(0,6,6,-3,0,10,14,1,0,4,18,3),Yn(0,6,7,-4,0,11,15,1,0,4,20,3),Yn(0,7,8,-4,0,12,17,2,0,5,22,4),Yn(0,7,8,-4,0,13,19,2,0,5,24,4),Yn(0,7,9,-4,0,14,21,2,0,5,26,4),Yn(0,8,9,-5,0,15,22,2,0,6,28,5),Yn(0,8,10,-5,0,16,24,2,0,6,30,5),Yn(0,8,11,-5,0,17,26,2,0,6,32,5),Yn(0,9,11,-5,0,18,28,2,0,7,34,6),Yn(0,9,12,-6,0,19,29,2,0,7,36,6),Yn(0,10,13,-6,0,20,31,3,0,8,38,7),Yn(0,10,13,-6,0,21,33,3,0,8,40,7),Yn(0,10,14,-6,0,22,35,3,0,8,42,7),Yn(0,11,14,-7,0,23,36,3,0,9,44,8),Yn(0,11,15,-7,0,24,38,3,0,9,46,8)],Jn={borderRadius:4},Xn=n(439),er={xs:0,sm:600,md:960,lg:1280,xl:1920},tr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(er[e],"px)")}};var nr=function(e,t){return t?mn(e,t,{clone:!1}):e};var rr={m:"margin",p:"padding"},ir={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ar={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},or=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ar[e])return[e];e=ar[e]}var t=e.split(""),n=(0,Xn.Z)(t,2),r=n[0],i=n[1],a=rr[r],o=ir[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),ur=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function sr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function cr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function lr(e){var t=sr(e.theme);return Object.keys(e).map((function(n){if(-1===ur.indexOf(n))return null;var r=cr(or(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||tr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,pn.Z)(t)){var i=e.theme.breakpoints||tr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(nr,{})}lr.propTypes={},lr.filterProps=ur;function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=sr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var hr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pr(e){return"".concat(Math.round(e),"ms")}var vr={easing:hr,duration:dr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?dr.standard:n,a=t.easing,o=void 0===a?hr.easeInOut:a,u=t.delay,s=void 0===u?0:u;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:pr(r)," ").concat(o," ").concat("string"===typeof s?s:pr(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},mr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function yr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,o=e.palette,u=void 0===o?{}:o,s=e.spacing,c=e.typography,l=void 0===c?{}:c,f=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),h=qn(u),d=Cn(n),p=fr(s),v=mn({breakpoints:d,direction:"ltr",mixins:Nn(d,p,a),overrides:{},palette:h,props:{},shadows:$n,typography:Qn(h,l),spacing:p,shape:Jn,transitions:vr,zIndex:mr},f),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return mn(e,t)}),v)}var gr=yr();var kr=function(e,t){return Sn(e,(0,r.Z)({defaultTheme:gr},t))}},122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},775:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return h},debounce:function(){return d.Z},deprecatedPropType:function(){return p},isMuiElement:function(){return v.Z},ownerDocument:function(){return m},ownerWindow:function(){return y},requirePropFactory:function(){return g},setRef:function(){return k.Z},unstable_useId:function(){return E},unsupportedProp:function(){return b},useControlled:function(){return w},useEventCallback:function(){return x.Z},useForkRef:function(){return _.Z},useIsFocusVisible:function(){return I.Z}});var r=n(122);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var a=n(462),o=n(791),u=n(987),s=n(182),c=n(658),l=o.forwardRef((function(e,t){var n=e.children,i=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,b=(0,u.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(d,(0,a.Z)({className:(0,s.Z)(i.root,c,"inherit"!==f&&i["color".concat((0,r.Z)(f))],"default"!==v&&"medium"!==v&&i["fontSize".concat((0,r.Z)(v))]),focusable:"false",viewBox:k,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},b),n,y?o.createElement("title",null,y):null)}));l.muiName="SvgIcon";var f=(0,c.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function h(e,t){var n=function(t,n){return o.createElement(f,(0,a.Z)({ref:n},t),e)};return n.muiName=f.muiName,o.memo(o.forwardRef(n))}var d=n(503);function p(e,t){return function(){return null}}var v=n(375);function m(e){return e&&e.ownerDocument||document}function y(e){return m(e).defaultView||window}function g(e){return function(){return null}}var k=n(565);function b(e,t,n,r,i){return null}function w(e){var t=e.controlled,n=e.default,r=(e.name,e.state,o.useRef(void 0!==t).current),i=o.useState(n),a=i[0],u=i[1];return[r?t:a,o.useCallback((function(e){r||u(e)}),[])]}var x=n(216),_=n(806);function E(e){var t=o.useState(e),n=t[0],r=t[1],i=e||n;return o.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var I=n(175)},375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(791),i=n(565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},175:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(791),i=n(164),a=!0,o=!1,u=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){o=!0,window.clearTimeout(u),u=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:d,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},694:function(e,t,n){"use strict";var r=n(318),i=n(862);t.Z=void 0;var a=i(n(791)),o=(0,r(n(894)).default)(a.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=o},894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(775)},483:function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,S=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,Z=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),I=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),Z=U("react.legacy_hidden")}var V,j="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ze=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){je=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){je=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,We=null,He=!1,Ke=null,Ge={onError:function(e){qe=!0,We=e}};function Qe(e,t,n,r,i,a,o,u,s){qe=!1,We=null,ze.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Zt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function $t(e,t,n,r){Gt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Zn=null;f&&"documentMode"in document&&(Zn=document.documentMode);var Un=f&&"TextEvent"in window&&!Zn,Vn=f&&(!Fn||Zn&&8<Zn&&11>=Zn),jn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function $n(e){Ar(e,0)}function Jn(e){if($(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Gn(t,Yn,e,Se(e)),e=$n,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Ot.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=We;qe=!1,We=null,He||(He=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ze)return e(t,n);Ze=!0;try{Me(e,t,n)}finally{Ze=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Zr(d))p++;for(d=0,v=h;v;v=Zr(v))d++;for(;0<p-d;)l=Zr(l),p--;for(;0<d-p;)h=Zr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Zr(l),h=Zr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var jr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Jr="__reactFiber$"+$r,Xr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Zi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,ji=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function qi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ii(e,t)}function Ki(e,t,n){return e=Wi(e),Si(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!ji&&null!==Ui){ji=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Pi,Gi),n}finally{ji=!1}}}var Yi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,ju|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=$s(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,ja=!1;function Ba(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(ja){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,ja=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,ja=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!ja)return Wa(e),ja=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Gr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Gr(e.stateNode.nextSibling):null;return!0}function Ka(){Va=Ua=null,ja=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ya=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Ja=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,ju|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Xa,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Xa.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Xa.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(ja){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Zo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Zo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return qo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Zo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Zo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$i(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Zo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Qo,Yo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Gs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Gs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!ja)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Xr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Go(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Zu&&(Zu=3):(0!==Zu&&3!==Zu||(Zu=4),null===Ou||0===(134217727&ju)&&0===(134217727&Bu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Zu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Za(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Za(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!ja)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=X(e,a),r=X(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,$u=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Zu=0,Uu=null,Vu=0,ju=0,Bu=0,zu=0,qu=null,Wu=0,Hu=1/0;function Ku(){Hu=zi()+500}var Gu,Qu=null,Yu=!1,$u=null,Ju=null,Xu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==qu?qu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ou&&(Bu|=t,4===Zu&&gs(e,Lu));var r=qi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Ku(),Gi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),qu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Zt(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Si(Pi,Qi)):Ui.push(n),n=Fi):14===t?n=Ki(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Zt(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ou===e&&Lu===r||(Ku(),Es(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ou=null,Lu=0,r=Zu),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Es(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-qt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Zt(e,t)))}else n=Ts(e,t=Zt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Es(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,zi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,Zu=0,Uu=null,zu=Bu=ju=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Xa=null,ro=!1,Ru.current=null,null===n||null===n.return){Zu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=js.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Zu&&(Zu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ou===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ou=null,Lu=0,Zu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Gu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Zu&&(Zu=5)}function Ps(e){var t=qi();return Hi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,jr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Su(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Su(Qu.alternate,Qu);break;case 4:Su(Qu.alternate,Qu);break;case 8:Iu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!jr,Br=jr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&yu(k,Qu.alternate,Qu),128&_){b=void 0;var E=Qu.ref;if(null!==E){var I=Qu.stateNode;Qu.tag,b=I,"function"===typeof E?E(b):E.current=b}}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Zi(),Pu=i}else e.current=n;if(Xu)Xu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),Yu)throw Yu=!1,e=$u,$u=null,e;return 0!==(8&Pu)||Gi(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Xu||(Xu=!0,Ki(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Zs)}return!1}function Ms(e,t){ns.push(t,e),Xu||(Xu=!0,Ki(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Xu||(Xu=!0,Ki(97,(function(){return Ls(),null})))}function Zs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Gi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Zu||3===Zu&&(62914560&Lu)===Lu&&500>zi()-Wu?Es(e,0):zu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===ss&&(ss=Vu),0===(t=jt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=qs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Gs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=qs(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=qs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=qs(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Qs(n,i,a,t);case Z:return(e=qs(24,n,t,i)).elementType=Z,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return(e=qs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=qs(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=qs(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=qs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Xs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=qs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xs(e,t,null,n)}Gu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Zo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Gr(t.stateNode.containerInfo.firstChild),Ua=t,a=ja=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Zo(e,t,r,n),Ka();t=t.child}return t;case 5:return La(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),zo(e,t),Zo(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Zo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Zo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Zo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Ku(),Gi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Gi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}};var sc={Events:[ri,ii,ai,Re,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&E(S),D(n)}else E(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".e4f979b9.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="chatapp:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/chatapp-react/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkchatapp=self.webpackChunkchatapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xe},SDK_VERSION:function(){return kt},_DEFAULT_ENTRY_NAME:function(){return it},_addComponent:function(){return st},_addOrOverwriteComponent:function(){return ct},_apps:function(){return ot},_clearComponents:function(){return dt},_components:function(){return ut},_getProvider:function(){return ft},_registerComponent:function(){return lt},_removeServiceInstance:function(){return ht},deleteApp:function(){return _t},getApp:function(){return wt},getApps:function(){return xt},initializeApp:function(){return bt},onLog:function(){return St},registerVersion:function(){return It},setLogLevel:function(){return Tt}});var t=n(791),r=n(164),i=n(433),a=n(439),o=n(462),u=n(987),s=n(182);function c(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(c(e.value)&&""!==e.value||t&&c(e.defaultValue)&&""!==e.defaultValue)}var f=n(658),h=n(122),d=n(375),p=t.createContext();var v=p,m=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,c=e.color,f=void 0===c?"primary":c,p=e.component,m=void 0===p?"div":p,y=e.disabled,g=void 0!==y&&y,k=e.error,b=void 0!==k&&k,w=e.fullWidth,x=void 0!==w&&w,_=e.focused,E=e.hiddenLabel,I=void 0!==E&&E,S=e.margin,T=void 0===S?"none":S,C=e.required,A=void 0!==C&&C,N=e.size,R=e.variant,P=void 0===R?"standard":R,O=(0,u.Z)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),D=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){if((0,d.Z)(t,["Input","Select"])){var n=(0,d.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),L=D[0],M=D[1],F=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){(0,d.Z)(t,["Input","Select"])&&l(t.props,!0)&&(e=!0)})),e})),Z=F[0],U=F[1],V=t.useState(!1),j=V[0],B=V[1],z=void 0!==_?_:j;g&&z&&B(!1);var q=t.useCallback((function(){U(!0)}),[]),W={adornedStart:L,setAdornedStart:M,color:f,disabled:g,error:b,filled:Z,focused:z,fullWidth:x,hiddenLabel:I,margin:("small"===N?"dense":void 0)||T,onBlur:function(){B(!1)},onEmpty:t.useCallback((function(){U(!1)}),[]),onFilled:q,onFocus:function(){B(!0)},registerEffect:undefined,required:A,variant:P};return t.createElement(v.Provider,{value:W},t.createElement(m,(0,o.Z)({className:(0,s.Z)(i.root,a,"none"!==T&&i["margin".concat((0,h.Z)(T))],x&&i.fullWidth),ref:n},O),r))})),y=(0,f.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(m);function g(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function k(){return t.useContext(v)}var b=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,c=(e.color,e.component),l=void 0===c?"label":c,f=(e.disabled,e.error,e.filled,e.focused,e.required,(0,u.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),d=g({props:e,muiFormControl:k(),states:["color","required","focused","disabled","error","filled"]});return t.createElement(l,(0,o.Z)({className:(0,s.Z)(i.root,i["color".concat((0,h.Z)(d.color||"primary"))],a,d.disabled&&i.disabled,d.error&&i.error,d.filled&&i.filled,d.focused&&i.focused,d.required&&i.required),ref:n},f),r,d.required&&t.createElement("span",{"aria-hidden":!0,className:(0,s.Z)(i.asterisk,d.error&&i.error)},"\u2009","*"))})),w=(0,f.Z)((function(e){return{root:(0,o.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(b),x=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.disableAnimation,c=void 0!==a&&a,l=(e.margin,e.shrink),f=(e.variant,(0,u.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=k(),d=l;"undefined"===typeof d&&h&&(d=h.filled||h.focused||h.adornedStart);var p=g({props:e,muiFormControl:h,states:["margin","variant"]});return t.createElement(w,(0,o.Z)({"data-shrink":d,className:(0,s.Z)(r.root,i,h&&r.formControl,!c&&r.animated,d&&r.shrink,"dense"===p.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[p.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},f))})),_=(0,f.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(x),E=n(483),I=n(806),S=n(503);function T(e,t){return parseInt(e[t],10)||0}var C="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,A={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},N=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,a=e.rowsMax,s=e.rowsMin,c=e.maxRows,l=e.minRows,f=void 0===l?1:l,h=e.style,d=e.value,p=(0,u.Z)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=c||a,m=i||s||f,y=t.useRef(null!=d).current,g=t.useRef(null),k=(0,I.Z)(n,g),b=t.useRef(null),w=t.useRef(0),x=t.useState({}),_=x[0],E=x[1],N=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=T(n,"padding-bottom")+T(n,"padding-top"),o=T(n,"border-bottom-width")+T(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;m&&(c=Math.max(Number(m)*s,c)),v&&(c=Math.min(Number(v)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;E((function(e){return w.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(w.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,e.placeholder]);t.useEffect((function(){var e=(0,S.Z)((function(){w.current=0,N()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[N]),C((function(){N()})),t.useEffect((function(){w.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",(0,o.Z)({value:d,onChange:function(e){w.current=0,y||N(),r&&r(e)},ref:k,rows:m,style:(0,o.Z)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},h)},p)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:(0,o.Z)({},A,h)}))})),R="undefined"===typeof window?t.useEffect:t.useLayoutEffect,P=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,c=e.classes,f=e.className,d=(e.color,e.defaultValue),m=e.disabled,y=e.endAdornment,k=(e.error,e.fullWidth),b=void 0!==k&&k,w=e.id,x=e.inputComponent,_=void 0===x?"input":x,S=e.inputProps,T=void 0===S?{}:S,C=e.inputRef,A=(e.margin,e.multiline),P=void 0!==A&&A,O=e.name,D=e.onBlur,L=e.onChange,M=e.onClick,F=e.onFocus,Z=e.onKeyDown,U=e.onKeyUp,V=e.placeholder,j=e.readOnly,B=e.renderSuffix,z=e.rows,q=e.rowsMax,W=e.rowsMin,H=e.maxRows,K=e.minRows,G=e.startAdornment,Q=e.type,Y=void 0===Q?"text":Q,$=e.value,J=(0,u.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),X=null!=T.value?T.value:$,ee=t.useRef(null!=X).current,te=t.useRef(),ne=t.useCallback((function(e){0}),[]),re=(0,I.Z)(T.ref,ne),ie=(0,I.Z)(C,re),ae=(0,I.Z)(te,ie),oe=t.useState(!1),ue=oe[0],se=oe[1],ce=t.useContext(p);var le=g({props:e,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});le.focused=ce?ce.focused:ue,t.useEffect((function(){!ce&&m&&ue&&(se(!1),D&&D())}),[ce,m,ue,D]);var fe=ce&&ce.onFilled,he=ce&&ce.onEmpty,de=t.useCallback((function(e){l(e)?fe&&fe():he&&he()}),[fe,he]);R((function(){ee&&de({value:X})}),[X,de,ee]);t.useEffect((function(){de(te.current)}),[]);var pe=_,ve=(0,o.Z)({},T,{ref:ae});"string"!==typeof pe?ve=(0,o.Z)({inputRef:ae,type:Y},ve,{ref:null}):P?!z||H||K||q||W?(ve=(0,o.Z)({minRows:z||K,rowsMax:q,maxRows:H},ve),pe=N):pe="textarea":ve=(0,o.Z)({type:Y},ve);return t.useEffect((function(){ce&&ce.setAdornedStart(Boolean(G))}),[ce,G]),t.createElement("div",(0,o.Z)({className:(0,s.Z)(c.root,c["color".concat((0,h.Z)(le.color||"primary"))],f,le.disabled&&c.disabled,le.error&&c.error,b&&c.fullWidth,le.focused&&c.focused,ce&&c.formControl,P&&c.multiline,G&&c.adornedStart,y&&c.adornedEnd,"dense"===le.margin&&c.marginDense),onClick:function(e){te.current&&e.currentTarget===e.target&&te.current.focus(),M&&M(e)},ref:n},J),G,t.createElement(v.Provider,{value:null},t.createElement(pe,(0,o.Z)({"aria-invalid":le.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:d,disabled:le.disabled,id:w,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?te.current:{value:"x"})},name:O,placeholder:V,readOnly:j,required:le.required,rows:z,value:X,onKeyDown:Z,onKeyUp:U},ve,{className:(0,s.Z)(c.input,T.className,le.disabled&&c.disabled,P&&c.inputMultiline,le.hiddenLabel&&c.inputHiddenLabel,G&&c.inputAdornedStart,y&&c.inputAdornedEnd,"search"===Y&&c.inputTypeSearch,"dense"===le.margin&&c.inputMarginDense),onBlur:function(e){D&&D(e),T.onBlur&&T.onBlur(e),ce&&ce.onBlur?ce.onBlur(e):se(!1)},onChange:function(e){if(!ee){var t=e.target||te.current;if(null==t)throw new Error((0,E.Z)(1));de({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){le.disabled?e.stopPropagation():(F&&F(e),T.onFocus&&T.onFocus(e),ce&&ce.onFocus?ce.onFocus(e):se(!0))}}))),y,B?B((0,o.Z)({},le,{startAdornment:G})):null)})),O=(0,f.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,o.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(P),D=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,a=e.fullWidth,c=void 0!==a&&a,l=e.inputComponent,f=void 0===l?"input":l,h=e.multiline,d=void 0!==h&&h,p=e.type,v=void 0===p?"text":p,m=(0,u.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(O,(0,o.Z)({classes:(0,o.Z)({},i,{root:(0,s.Z)(i.root,!r&&i.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:d,ref:n,type:v},m))}));D.muiName="Input";var L=(0,f.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(D),M=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.component,c=void 0===a?"div":a,l=e.square,f=void 0!==l&&l,h=e.elevation,d=void 0===h?1:h,p=e.variant,v=void 0===p?"elevation":p,m=(0,u.Z)(e,["classes","className","component","square","elevation","variant"]);return t.createElement(c,(0,o.Z)({className:(0,s.Z)(r.root,i,"outlined"===v?r.outlined:r["elevation".concat(d)],!f&&r.rounded),ref:n},m))})),F=(0,f.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,o.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(M),Z=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.raised,c=void 0!==a&&a,l=(0,u.Z)(e,["classes","className","raised"]);return t.createElement(F,(0,o.Z)({className:(0,s.Z)(r.root,i),elevation:c?8:1,ref:n},l))})),U=(0,f.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(Z),V=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.component,c=void 0===a?"div":a,l=(0,u.Z)(e,["classes","className","component"]);return t.createElement(c,(0,o.Z)({className:(0,s.Z)(r.root,i),ref:n},l))})),j=(0,f.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(V),B={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},z=t.forwardRef((function(e,n){var r=e.align,i=void 0===r?"inherit":r,a=e.classes,c=e.className,l=e.color,f=void 0===l?"initial":l,d=e.component,p=e.display,v=void 0===p?"initial":p,m=e.gutterBottom,y=void 0!==m&&m,g=e.noWrap,k=void 0!==g&&g,b=e.paragraph,w=void 0!==b&&b,x=e.variant,_=void 0===x?"body1":x,E=e.variantMapping,I=void 0===E?B:E,S=(0,u.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),T=d||(w?"p":I[_]||B[_])||"span";return t.createElement(T,(0,o.Z)({className:(0,s.Z)(a.root,c,"inherit"!==_&&a[_],"initial"!==f&&a["color".concat((0,h.Z)(f))],k&&a.noWrap,y&&a.gutterBottom,w&&a.paragraph,"inherit"!==i&&a["align".concat((0,h.Z)(i))],"initial"!==v&&a["display".concat((0,h.Z)(v))]),ref:n},S))})),q=(0,f.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(z),W=n(184),H=(0,t.forwardRef)((function(e,t){var n=e.message,r=e.username===n.username;return(0,W.jsx)("div",{ref:t,className:"message ".concat(r&&"message__user"),children:(0,W.jsx)(U,{className:r?"message__userCard":"message__guestCard",children:(0,W.jsx)(j,{children:(0,W.jsxs)(q,{color:"white",variant:"h5",component:"h2",children:[!r&&"".concat(n.username||"Unknown User"),n.message]})})})})})),K=n(942);function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Q=n(144),Y=n(181);function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Y.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var J=n(326),X=n(611);function ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,X.Z)(e,t)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var re=n(2);function ie(e,t){if(t&&("object"===(0,re.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,J.Z)(e)}function ae(e){var t=ne();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ie(this,n)}}function oe(e,t,n){return oe=ne()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,X.Z)(i,n.prototype),i},oe.apply(null,arguments)}function ue(e){var t="function"===typeof Map?new Map:void 0;return ue=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return oe(e,arguments,te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,X.Z)(n,e)},ue(e)}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(se(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},le=function(e){return function(e){var t=se(e);return ce.encodeByteArray(t,!0)}(e).replace(/\./g,"")},fe=function(e){try{return ce.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function he(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=he(e[n],t[n]));return e}var de=function(){function e(){var t=this;G(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,Q.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(a)),""].join(".")}function ve(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function ye(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ge(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ke(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function be(){var e=ve();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function we(){return"object"===typeof indexedDB}var xe=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,J.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,J.Z)(a),_e.prototype.create),a}return(0,Q.Z)(n)}(ue(Error)),_e=function(){function e(t,n,r){G(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,Q.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ee(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xe(n,a,t);return o}}]),e}();function Ee(e,t){return e.replace(Ie,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ie=/\{\$([^}]+)}/g;function Se(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Te(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ce(u)&&Ce(s)){if(!Te(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ce(e){return null!==e&&"object"===typeof e}function Ae(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ne(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Re(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Pe(e,t){var n=new Oe(e,t);return n.subscribe.bind(n)}var Oe=function(){function e(t,n){var r=this;G(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,Q.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=De),void 0===r.error&&(r.error=De),void 0===r.complete&&(r.complete=De);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function De(){}function Le(e){return e&&e._delegate?e._delegate:e}function Me(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Me(a,r,i,o,u,"next",e)}function u(e){Me(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ze=n(757),Ue=n.n(Ze),Ve=function(){function e(t,n,r){G(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,Q.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),je="[DEFAULT]",Be=function(){function e(t,n){G(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,Q.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new de;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:je})}catch(c){}var t,n=$(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fe(Ze.mark((function e(){var t;return Ze.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,i.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,i.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=$(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(pw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===je?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(pw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.component?this.component.multipleInstances?e:je:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ze,qe,We=function(){function e(t){G(this,e),this.name=t,this.providers=new Map}return(0,Q.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Be(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),He=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qe||(qe={}));var Ke,Ge,Qe={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ye=qe.INFO,$e=(ze={},(0,K.Z)(ze,qe.DEBUG,"log"),(0,K.Z)(ze,qe.VERBOSE,"log"),(0,K.Z)(ze,qe.INFO,"info"),(0,K.Z)(ze,qe.WARN,"warn"),(0,K.Z)(ze,qe.ERROR,"error"),ze),Je=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$e[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xe=function(){function e(t){G(this,e),this.name=t,this._logLevel=Ye,this._logHandler=Je,this._userLogHandler=null,He.push(this)}return(0,Q.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.DEBUG].concat(t)),this._logHandler.apply(this,[this,qe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.INFO].concat(t)),this._logHandler.apply(this,[this,qe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.WARN].concat(t)),this._logHandler.apply(this,[this,qe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.ERROR].concat(t)),this._logHandler.apply(this,[this,qe.ERROR].concat(t))}}]),e}();var et=function(){function e(t){G(this,e),this.container=t}return(0,Q.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tt="@firebase/app",nt="0.7.11",rt=new Xe("@firebase/app"),it="[DEFAULT]",at=(Ke={},(0,K.Z)(Ke,tt,"fire-core"),(0,K.Z)(Ke,"@firebase/app-compat","fire-core-compat"),(0,K.Z)(Ke,"@firebase/analytics","fire-analytics"),(0,K.Z)(Ke,"@firebase/analytics-compat","fire-analytics-compat"),(0,K.Z)(Ke,"@firebase/app-check","fire-app-check"),(0,K.Z)(Ke,"@firebase/app-check-compat","fire-app-check-compat"),(0,K.Z)(Ke,"@firebase/auth","fire-auth"),(0,K.Z)(Ke,"@firebase/auth-compat","fire-auth-compat"),(0,K.Z)(Ke,"@firebase/database","fire-rtdb"),(0,K.Z)(Ke,"@firebase/database-compat","fire-rtdb-compat"),(0,K.Z)(Ke,"@firebase/functions","fire-fn"),(0,K.Z)(Ke,"@firebase/functions-compat","fire-fn-compat"),(0,K.Z)(Ke,"@firebase/installations","fire-iid"),(0,K.Z)(Ke,"@firebase/installations-compat","fire-iid-compat"),(0,K.Z)(Ke,"@firebase/messaging","fire-fcm"),(0,K.Z)(Ke,"@firebase/messaging-compat","fire-fcm-compat"),(0,K.Z)(Ke,"@firebase/performance","fire-perf"),(0,K.Z)(Ke,"@firebase/performance-compat","fire-perf-compat"),(0,K.Z)(Ke,"@firebase/remote-config","fire-rc"),(0,K.Z)(Ke,"@firebase/remote-config-compat","fire-rc-compat"),(0,K.Z)(Ke,"@firebase/storage","fire-gcs"),(0,K.Z)(Ke,"@firebase/storage-compat","fire-gcs-compat"),(0,K.Z)(Ke,"@firebase/firestore","fire-fst"),(0,K.Z)(Ke,"@firebase/firestore-compat","fire-fst-compat"),(0,K.Z)(Ke,"fire-js","fire-js"),(0,K.Z)(Ke,"firebase","fire-js-all"),Ke),ot=new Map,ut=new Map;function st(e,t){try{e.container.addComponent(t)}catch(n){rt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ct(e,t){e.container.addOrOverwriteComponent(t)}function lt(e){var t=e.name;if(ut.has(t))return rt.debug("There were multiple attempts to register component ".concat(t,".")),!1;ut.set(t,e);var n,r=$(ot.values());try{for(r.s();!(n=r.n()).done;){st(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ft(e,t){return e.container.getProvider(t)}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it;ft(e,t).clearInstance(n)}function dt(){ut.clear()}var pt,vt,mt=(Ge={},(0,K.Z)(Ge,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,K.Z)(Ge,"bad-app-name","Illegal App name: '{$appName}"),(0,K.Z)(Ge,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,K.Z)(Ge,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,K.Z)(Ge,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,K.Z)(Ge,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge),yt=new _e("app","Firebase",mt),gt=function(){function e(t,n,r){var i=this;G(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ve("app",(function(){return i}),"PUBLIC"))}return(0,Q.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}]),e}(),kt="9.6.1";function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:it,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yt.create("bad-app-name",{appName:String(i)});var a=ot.get(i);if(a){if(Te(e,a.options)&&Te(r,a.config))return a;throw yt.create("duplicate-app",{appName:i})}var o,u=new We(i),s=$(ut.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new gt(e,r,u);return ot.set(i,l),l}function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=ot.get(e);if(!t)throw yt.create("no-app",{appName:e});return t}function xt(){return Array.from(ot.values())}function _t(e){return Et.apply(this,arguments)}function Et(){return(Et=Fe(Ze.mark((function e(t){var n;return Ze.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ot.has(n)){e.next=6;break}return ot.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e,t,n){var r,i=null!==(r=at[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rt.warn(u.join(" "))}lt(new Ve("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function St(e,t){if(null!==e&&"function"!==typeof e)throw yt.create("invalid-log-argument");!function(e,t){var n,r=$(He);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Qe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:qe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Tt(e){var t;t=e,He.forEach((function(e){e.setLogLevel(t)}))}pt="",lt(new Ve("platform-logger",(function(e){return new et(e)}),"PRIVATE")),It(tt,nt,pt),It(tt,nt,"esm2017"),It("fire-js","");var Ct=function(){function e(t,n){var r=this;G(this,e),this._delegate=t,this.firebase=n,st(t,new Ve("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,Q.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),_t(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){st(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ct(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),At=(vt={},(0,K.Z)(vt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,K.Z)(vt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vt),Nt=new _e("app-compat","Firebase",At);var Rt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=bt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Se(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:It,setLogLevel:Tt,onLog:St,apps:null,SDK_VERSION:kt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(lt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Nt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&he(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Se(n,e=e||it))throw Nt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ct);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){he(n,e)},createSubscribe:Pe,ErrorFactory:_e,deepExtend:he}),n}(),Pt=new Xe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Pt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&Pt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Dt=Rt;!function(e){It("@firebase/app-compat","0.1.12",e)}();Dt.registerVersion("firebase","9.6.1","app-compat");var Lt=n(878),Mt=n(199),Ft=n(267);function Zt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function Ut(){return Ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ut.apply(this,arguments)}function Vt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var jt;Object.create;var Bt="facebook.com",zt="github.com",qt="google.com",Wt="password",Ht="twitter.com",Kt="EMAIL_SIGNIN",Gt="PASSWORD_RESET",Qt="RECOVER_EMAIL",Yt="REVERT_SECOND_FACTOR_ADDITION",$t="VERIFY_AND_CHANGE_EMAIL",Jt="VERIFY_EMAIL";function Xt(){return(0,K.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var en=function(){var e;return e={},(0,K.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,K.Z)(e,"argument-error",""),(0,K.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,K.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,K.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,K.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,K.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,K.Z)(e,"cors-unsupported","This browser is not supported."),(0,K.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,K.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,K.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,K.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,K.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,K.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,K.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,K.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,K.Z)(e,"expired-action-code","The action code has expired."),(0,K.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,K.Z)(e,"internal-error","An internal AuthError has occurred."),(0,K.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,K.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,K.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,K.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,K.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,K.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,K.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,K.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,K.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,K.Z)(e,"invalid-email","The email address is badly formatted."),(0,K.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,K.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,K.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,K.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,K.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,K.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,K.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,K.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,K.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,K.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,K.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,K.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,K.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,K.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,K.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,K.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,K.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,K.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,K.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,K.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,K.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,K.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,K.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,K.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,K.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,K.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,K.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,K.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,K.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,K.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,K.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,K.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,K.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,K.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,K.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,K.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,K.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,K.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,K.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,K.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,K.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,K.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,K.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,K.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,K.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,K.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,K.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,K.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,K.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,K.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,K.Z)(e,"timeout","The operation has timed out."),(0,K.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,K.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,K.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,K.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,K.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,K.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,K.Z)(e,"unverified-email","The operation requires a verified email."),(0,K.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,K.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,K.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,K.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,K.Z)(e,"user-signed-out",""),(0,K.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,K.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,K.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},tn=Xt,nn=new _e("auth","Firebase",Xt()),rn=new Xe("@firebase/auth");function an(e){if(rn.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rn.error.apply(rn,["Auth (".concat(kt,"): ").concat(e)].concat(n))}}function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ln.apply(void 0,[e].concat(n))}function un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ln.apply(void 0,[e].concat(n))}function sn(e,t,n){var r=Object.assign(Object.assign({},tn()),(0,K.Z)({},t,n));return new _e("auth","Firebase",r).create(t,{appName:e.name})}function cn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&on(e,"argument-error"),sn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,o=n[0],u=(0,i.Z)(n.slice(1));return u[0]&&(u[0].appName=e.name),(a=e._errorFactory).create.apply(a,[o].concat((0,i.Z)(u)))}return nn.create.apply(nn,[e].concat(n))}function fn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ln.apply(void 0,[t].concat(r))}}function hn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw an(t),new Error(t)}function dn(e,t){e||hn(t)}var pn=new Map;function vn(e){dn(e instanceof Function,"Expected a class definition");var t=pn.get(e);return t?(dn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pn.set(e,t),t)}function mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yn(){return"http:"===gn()||"https:"===gn()}function gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var kn=function(){function e(t,n){G(this,e),this.shortDelay=t,this.longDelay=n,dn(n>t,"Short delay should be less than long delay!"),this.isMobile=me()||ke()}return(0,Q.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yn()||ge()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bn(e,t){dn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wn=function(){function e(){G(this,e)}return(0,Q.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),xn=(jt={},(0,K.Z)(jt,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,K.Z)(jt,"MISSING_CUSTOM_TOKEN","internal-error"),(0,K.Z)(jt,"INVALID_IDENTIFIER","invalid-email"),(0,K.Z)(jt,"MISSING_CONTINUE_URI","internal-error"),(0,K.Z)(jt,"INVALID_PASSWORD","wrong-password"),(0,K.Z)(jt,"MISSING_PASSWORD","internal-error"),(0,K.Z)(jt,"EMAIL_EXISTS","email-already-in-use"),(0,K.Z)(jt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,K.Z)(jt,"INVALID_IDP_RESPONSE","invalid-credential"),(0,K.Z)(jt,"INVALID_PENDING_TOKEN","invalid-credential"),(0,K.Z)(jt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,K.Z)(jt,"MISSING_REQ_TYPE","internal-error"),(0,K.Z)(jt,"EMAIL_NOT_FOUND","user-not-found"),(0,K.Z)(jt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,K.Z)(jt,"EXPIRED_OOB_CODE","expired-action-code"),(0,K.Z)(jt,"INVALID_OOB_CODE","invalid-action-code"),(0,K.Z)(jt,"MISSING_OOB_CODE","internal-error"),(0,K.Z)(jt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,K.Z)(jt,"INVALID_ID_TOKEN","invalid-user-token"),(0,K.Z)(jt,"TOKEN_EXPIRED","user-token-expired"),(0,K.Z)(jt,"USER_NOT_FOUND","user-token-expired"),(0,K.Z)(jt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,K.Z)(jt,"INVALID_CODE","invalid-verification-code"),(0,K.Z)(jt,"INVALID_SESSION_INFO","invalid-verification-id"),(0,K.Z)(jt,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,K.Z)(jt,"MISSING_SESSION_INFO","missing-verification-id"),(0,K.Z)(jt,"SESSION_EXPIRED","code-expired"),(0,K.Z)(jt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,K.Z)(jt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,K.Z)(jt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,K.Z)(jt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,K.Z)(jt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,K.Z)(jt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,K.Z)(jt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,K.Z)(jt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,K.Z)(jt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,K.Z)(jt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,K.Z)(jt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),jt),_n=new kn(3e4,6e4);function En(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function In(e,t,n,r){return Sn.apply(this,arguments)}function Sn(){return Sn=Fe(Ue().mark((function e(t,n,r,i){var a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Tn(t,a,Fe(Ue().mark((function e(){var a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ae(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wn.fetch()(Rn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function Tn(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=Fe(Ue().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},xn),n),e.prev=2,o=new Pn(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw On(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw On(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw On(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw sn(t,p,d);case 30:on(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof xe)){e.next=37;break}throw e.t0;case 37:on(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function An(e,t,n,r){return Nn.apply(this,arguments)}function Nn(){return Nn=Fe(Ue().mark((function e(t,n,r,i){var a,o,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,In(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&on(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function Rn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Pn=function(){function e(t){var n=this;G(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(un(n.auth,"timeout"))}),_n.get())}))}return(0,Q.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function On(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=un(e,t,r);return i.customData._tokenResponse=n,i}function Dn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e,t){return Fn.apply(this,arguments)}function Fn(){return(Fn=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t){return Un.apply(this,arguments)}function Un(){return(Un=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function jn(){return jn=Fe(Ue().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Le(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,fn((a=zn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Vn(Bn(a.auth_time)),issuedAtTime:Vn(Bn(a.iat)),expirationTime:Vn(Bn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function Bn(e){return 1e3*Number(e)}function zn(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return an("JWT malformed, contained fewer than 3 sections"),null;try{var u=fe(i);return u?JSON.parse(u):(an("Failed to decode base64 JWT payload"),null)}catch(s){return an("Caught error parsing JWT payload as JSON",s),null}}function qn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=Fe(Ue().mark((function e(t,n){var r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xe&&Hn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wn.apply(this,arguments)}function Hn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Kn=function(){function e(t){G(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,Q.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gn=function(){function e(t,n){G(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,Q.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qn(e){return Yn.apply(this,arguments)}function Yn(){return Yn=Fe(Ue().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qn(t,Zn(r,{idToken:i}));case 6:fn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Xn(o.providerUserInfo):[],s=Jn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function $n(){return($n=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Le(t),e.next=3,Qn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,i.Z)(n),(0,i.Z)(t))}function Xn(e){return e.map((function(e){var t=e.providerId,n=Vt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(t,{},Fe(Ue().mark((function e(){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ae({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Rn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nr=function(){function e(){G(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,Q.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){fn(e.idToken,"internal-error"),fn("undefined"!==typeof e.idToken,"internal-error"),fn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=zn(e);return fn(t,"internal-error"),fn("undefined"!==typeof t.exp,"internal-error"),fn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],fn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return hn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(fn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(fn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(fn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function rr(e,t){fn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ir=function(){function e(t){G(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Gn(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,Q.Z)(e,[{key:"getIdToken",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(fn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return jn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $n.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(fn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){fn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qn(this,Dn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;fn(k&&_,t,"internal-error");var E=nr.fromJSON(this.name,_);fn("string"===typeof k,t,"internal-error"),rr(f,t.name),rr(h,t.name),fn("boolean"===typeof b,t,"internal-error"),fn("boolean"===typeof w,t,"internal-error"),rr(d,t.name),rr(p,t.name),rr(v,t.name),rr(m,t.name),rr(y,t.name),rr(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Fe(Ue().mark((function t(n,r){var i,a,o,u=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new nr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ar=function(){function e(){G(this,e),this.type="NONE",this.storage={}}return(0,Q.Z)(e,[{key:"_isAvailable",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ar.type="NONE";var or=ar;function ur(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var sr=function(){function e(t,n,r){G(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ur(this.userKey,a.apiKey,o),this.fullPersistenceKey=ur("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,Q.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ir._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fe(Ue().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(vn(or),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||vn(or),u=ur(i,n.config.apiKey,n.name),s=null,c=$(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ir._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function cr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vr(t))return"Blackberry";if(mr(t))return"Webos";if(fr(t))return"Safari";if((t.includes("chrome/")||hr(t))&&!t.includes("edge/"))return"Chrome";if(pr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/firefox\//i.test(e)}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/crios\//i.test(e)}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/iemobile/i.test(e)}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/android/i.test(e)}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/blackberry/i.test(e)}function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/webos/i.test(e)}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/iphone|ipad|ipod/i.test(e)}function gr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return yr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function kr(){return be()&&10===document.documentMode}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return yr(e)||pr(e)||mr(e)||vr(e)||/windows phone/i.test(e)||dr(e)}function wr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cr(ve());break;case"Worker":t="".concat(cr(ve()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(kt,"/").concat(r)}var xr=function(){function e(t,n){G(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Er(this),this.idTokenSubscription=new Er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return(0,Q.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=vn(t)),this._initializationPromise=this.queue(Fe(Ue().mark((function r(){var i,a;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,sr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return fn(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Le(t):null)&&fn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&fn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(vn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _e("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return fn(n=t&&vn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,sr.create(this,[vn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return fn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return fn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,K.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _r(e){return Le(e)}var Er=function(){function e(t){var n=this;G(this,e),this.auth=t,this.observer=null,this.addObserver=Pe((function(e){return n.observer=e}))}return(0,Q.Z)(e,[{key:"next",get:function(){return fn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ir(e,t,n){var r=_r(e);fn(r._canInitEmulator,r,"emulator-config-failed"),fn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Sr(t),u=function(e){var t=Sr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:Tr(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:Tr(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Sr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Cr=function(){function e(t,n){G(this,e),this.providerId=t,this.signInMethod=n}return(0,Q.Z)(e,[{key:"toJSON",value:function(){return hn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return hn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return hn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return hn("not implemented")}}]),e}();function Ar(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:resetPassword",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPassword",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendOobCode",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e,t){return Br.apply(this,arguments)}function Br(){return(Br=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $r=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return G(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,Q.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Kr(t,{email:this._email,oobCode:this._password}));case 5:on(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:on(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Cr);function Jr(e,t){return Xr.apply(this,arguments)}function Xr(){return(Xr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithIdp",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ei=function(e){ee(n,e);var t=ae(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,Q.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Jr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Jr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Jr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ae(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):on("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Cr);function ti(e,t){return ni.apply(this,arguments)}function ni(){return(ni=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendVerificationCode",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(){return(ri=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(){return(ii=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw On(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ai=(0,K.Z)({},"USER_NOT_FOUND","user-not-found");function oi(){return(oi=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,r),ai));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,Q.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ii.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Cr);var si=function(){function e(t){var n,r,i,a,o,u;G(this,e);var s=Ne(Re(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);fn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,Q.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ne(Re(e)).link,n=t?Ne(Re(t)).deep_link_id:null,r=Ne(Re(e)).deep_link_id;return(r?Ne(Re(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(pw){return null}}}]),e}();var ci=function(){function e(){G(this,e),this.providerId=e.PROVIDER_ID}return(0,Q.Z)(e,null,[{key:"credential",value:function(e,t){return $r._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=si.parseLink(t);return fn(n,"argument-error"),$r._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ci.PROVIDER_ID="password",ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var li=function(){function e(t){G(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,Q.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),fi=function(e){ee(n,e);var t=ae(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,Q.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,i.Z)(this.scopes)}}]),n}(li),hi=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return fn(e.idToken||e.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return fn("providerId"in t&&"signInMethod"in t,"argument-error"),ei._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(fi),di=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.call(this,"facebook.com")}return(0,Q.Z)(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pw){return null}}}]),n}(fi);di.FACEBOOK_SIGN_IN_METHOD="facebook.com",di.PROVIDER_ID="facebook.com";var pi=function(e){ee(n,e);var t=ae(n);function n(){var e;return G(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,Q.Z)(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(pw){return null}}}]),n}(fi);pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";var vi=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.call(this,"github.com")}return(0,Q.Z)(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pw){return null}}}]),n}(fi);vi.GITHUB_SIGN_IN_METHOD="github.com",vi.PROVIDER_ID="github.com";var mi=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,Q.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Jr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Jr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Jr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Cr),yi=function(e){ee(n,e);var t=ae(n);function n(e){return G(this,n),fn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,Q.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=mi.fromJSON(e);return fn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return mi._create(r,n)}catch(i){return null}}}]),n}(li),gi=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.call(this,"twitter.com")}return(0,Q.Z)(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(pw){return null}}}]),n}(fi);function ki(e,t){return bi.apply(this,arguments)}function bi(){return(bi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signUp",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}gi.TWITTER_SIGN_IN_METHOD="twitter.com",gi.PROVIDER_ID="twitter.com";var wi=function(){function e(t){G(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,Q.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fe(Ue().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ir._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=xi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fe(Ue().mark((function t(n,r,i){var a;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _i(){return _i=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new wi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ki(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,wi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}var Ei=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a){var o,u;return G(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,J.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,Q.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xe);function Ii(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ei._fromErrorAndOperation(e,n,t,r);throw n}))}function Si(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Le(t),e.next=3,Ri(!0,r,n);case 3:return e.t0=Mn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Si(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ai(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=Fe(Ue().mark((function e(t,n){var r,i,a=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",wi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Ri(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(n);case 2:i=Si(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",fn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return Di=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,qn(t,Ii(i,a,n,t),r);case 6:return fn((o=e.sent).idToken,i,"internal-error"),fn(u=zn(o.idToken),i,"internal-error"),s=u.sub,fn(t.uid===s,i,"user-mismatch"),e.abrupt("return",wi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&on(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Di.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=Fe(Ue().mark((function e(t,n){var r,i,a,o,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ii(t,i,n);case 4:return a=e.sent,e.next=7,wi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Li(_r(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Le(t),e.next=3,Ri(!1,r,n.providerId);case 3:return e.abrupt("return",Ai(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(Le(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithCustomToken",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(){return(Wi=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,zi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,wi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hi=function(){function e(t,n){G(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,Q.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ki._fromServerResponse(e,t):on(e,"internal-error")}}]),e}(),Ki=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,Q.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Hi);function Gi(e,t,n){var r;fn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),fn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(fn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Qi(){return(Qi=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),a={requestType:"PASSWORD_RESET",email:n},r&&Gi(i,a,r),e.next=5,jr(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(){return(Yi=Fe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(Le(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(){return($i=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(Le(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Le(t),e.next=3,Ar(r,{oobCode:n});case 3:i=e.sent,fn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return fn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:fn(i.mfaInfo,r,"internal-error");case 13:fn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Hi._fromServerResponse(_r(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(){return(ea=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(Le(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return(na=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,ki(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,wi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(){return(ra=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),a={requestType:"EMAIL_SIGNIN",email:n},fn(r.handleCodeInApp,i,"argument-error"),r&&Gi(i,a,r),e.next=6,zr(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(){return(ia=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),fn((a=ci.credentialWithLink(n,r||mn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Fi(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:createAuthUri",En(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(){return(ua=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yn()?mn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,aa(Le(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(){return(sa=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Le(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Gi(r.auth,a,n),e.next=8,Ur(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(){return(ca=Fe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Gi(i.auth,o,r),e.next=8,Wr(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return(fa=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(){return(ha=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Le(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,qn(a,la(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t,n){return pa.apply(this,arguments)}function pa(){return(pa=Fe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,qn(t,Rr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var va=(0,Q.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};G(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ma=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a){var o;return G(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,Q.Z)(n)}(va),ya=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"facebook.com",r)}return(0,Q.Z)(n)}(va),ga=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,Q.Z)(n)}(ma),ka=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"google.com",r)}return(0,Q.Z)(n)}(va),ba=function(e){ee(n,e);var t=ae(n);function n(e,r,i){return G(this,n),t.call(this,e,"twitter.com",r,i)}return(0,Q.Z)(n)}(ma);function wa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=zn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new va(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ya(a,i);case"github.com":return new ga(a,i);case"google.com":return new ka(a,i);case"twitter.com":return new ba(a,i,e.screenName||null);case"custom":case"anonymous":return new va(a,null);default:return new va(a,r,i)}}(n)}var xa=function(){function e(t,n){G(this,e),this.type=t,this.credential=n}return(0,Q.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,K.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),_a=function(){function e(t,n,r){G(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,Q.Z)(e,[{key:"resolveSignIn",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_r(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Hi._fromServerResponse(r,e)}));fn(i.mfaPendingCredential,r,"internal-error");var o=xa._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Fe(Ue().mark((function e(t){var a,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,wi._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return fn(n.user,r,"internal-error"),e.abrupt("return",wi._forOperation(n.user,n.operationType,u));case 17:on(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ea(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:start",En(e,t))}var Ia=function(){function e(t){var n=this;G(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Hi._fromServerResponse(t.auth,e)})))}))}return(0,Q.Z)(e,[{key:"getSession",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xa,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,qn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,qn(this.user,In(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",En(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Sa=new WeakMap;var Ta="__sak",Ca=function(){function e(t,n){G(this,e),this.storageRetriever=t,this.type=n}return(0,Q.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch(pw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Aa=function(e){ee(n,e);var t=ae(n);function n(){var e;return G(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ve();return fr(e)||yr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=br(),e._shouldAllowMigration=!0,e}return(0,Q.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);kr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(te(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(te(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(te(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ca);Aa.type="LOCAL";var Na=Aa,Ra=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,Q.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ca);Ra.type="SESSION";var Pa=Ra;function Oa(e){return Promise.all(e.map(function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Da=function(){function e(t){G(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,Q.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Oa(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function La(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Da.receivers=[];var Ma=function(){function e(t){G(this,e),this.target=t,this.handlers=new Set}return(0,Q.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=La("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Fa(){return window}function Za(){return"undefined"!==typeof Fa().WorkerGlobalScope&&"function"===typeof Fa().importScripts}function Ua(){return Va.apply(this,arguments)}function Va(){return(Va=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ja(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ba="firebaseLocalStorageDb",za="firebaseLocalStorage",qa="fbase_key",Wa=function(){function e(t){G(this,e),this.request=t}return(0,Q.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ha(e,t){return e.transaction([za],t?"readwrite":"readonly").objectStore(za)}function Ka(){var e=indexedDB.deleteDatabase(Ba);return new Wa(e).toPromise()}function Ga(){var e=indexedDB.open(Ba,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(za,{keyPath:qa})}catch(r){n(r)}})),e.addEventListener("success",Fe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(za)){n.next=12;break}return r.close(),n.next=5,Ka();case 5:return n.t0=t,n.next=8,Ga();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Qa(e,t,n){return Ya.apply(this,arguments)}function Ya(){return Ya=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ha(t,!0).put((i={},(0,K.Z)(i,qa,n),(0,K.Z)(i,"value",r),i)),e.abrupt("return",new Wa(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function $a(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ha(t,!1).get(n),e.next=3,new Wa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Xa(e,t){var n=Ha(e,!0).delete(t);return new Wa(n).toPromise()}var eo=function(){function e(){G(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,Q.Z)(e,[{key:"_openDb",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ga();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Za()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Da._getInstance(Za()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fe(Ue().mark((function e(n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ma(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ja()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ga();case 5:return t=e.sent,e.next=8,Qa(t,Ta,"1");case 8:return e.next=10,Xa(t,Ta);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Qa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $a(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ha(e,!1).getAll();return new Wa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();eo.type="LOCAL";var to=eo;function no(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:start",En(e,t))}function ro(e){return io.apply(this,arguments)}function io(){return(io=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=un("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function oo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var uo=1e12,so=function(){function e(t){G(this,e),this.auth=t,this.counter=uo,this._widgets=new Map}return(0,Q.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new co(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||uo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||uo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||uo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),co=function(){function e(t,n,r){var i=this;G(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;fn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,Q.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var lo=oo("rcb"),fo=new kn(3e4,6e4),ho="https://www.google.com/recaptcha/api.js?",po=function(){function e(){G(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fa().grecaptcha}return(0,Q.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fn(vo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Fa().grecaptcha):new Promise((function(r,i){var a=Fa().setTimeout((function(){i(un(e,"network-request-failed"))}),fo.get());Fa()[lo]=function(){Fa().clearTimeout(a),delete Fa()[lo];var o=Fa().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(un(e,"internal-error"))},ao("".concat(ho,"?").concat(Ae({onload:lo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(un(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Fa().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function vo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var mo=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"load",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new so(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),yo="recaptcha",go={theme:"light",type:"image"},ko=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},go),r=arguments.length>2?arguments[2]:void 0;G(this,e),this.parameters=n,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(r),this.isInvisible="invisible"===this.parameters.size,fn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;fn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mo:new po,this.validateStartingState()}return(0,Q.Z)(e,[{key:"verify",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){fn(!this.parameters.sitekey,this.auth,"argument-error"),fn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Fa()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){fn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fn(yn()&&!Za(),this.auth,"internal-error"),e.next=3,bo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ro(this.auth);case 8:fn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return fn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function bo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var wo=function(){function e(t,n){G(this,e),this.verificationId=t,this.onConfirmation=n}return(0,Q.Z)(e,[{key:"confirm",value:function(e){var t=ui._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function xo(){return(xo=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,So(i,n,Le(r));case 3:return a=e.sent,e.abrupt("return",new wo(a,(function(e){return Fi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t,n){return Eo.apply(this,arguments)}function Eo(){return(Eo=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),e.next=3,Ri(!1,i,"phone");case 3:return e.next=5,So(i.auth,n,Le(r));case 5:return a=e.sent,e.abrupt("return",new wo(a,(function(e){return Ui(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(){return(Io=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le(t),e.next=3,So(i.auth,n,Le(r));case 3:return a=e.sent,e.abrupt("return",new wo(a,(function(e){return ji(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t,n){return To.apply(this,arguments)}function To(){return To=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,fn("string"===typeof a,t,"argument-error"),fn(r.type===yo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return fn("enroll"===u.type,t,"internal-error"),e.next=13,Ea(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return fn("signin"===u.type,t,"internal-error"),fn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,no(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ti(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),To.apply(this,arguments)}function Co(){return(Co=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai(Le(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=function(){function e(t){G(this,e),this.providerId=e.PROVIDER_ID,this.auth=_r(t)}return(0,Q.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return So(this.auth,e,Le(t))}}],[{key:"credential",value:function(e,t){return ui._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ui._fromTokenResponse(n,r):null}}]),e}();function No(e,t){return t?vn(t):(fn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ao.PROVIDER_ID="phone",Ao.PHONE_SIGN_IN_METHOD="phone";var Ro=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,Q.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Jr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Jr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Jr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Cr);function Po(e){return Li(e.auth,new Ro(e),e.bypassAuthState)}function Oo(e){var t=e.auth,n=e.user;return fn(n,t,"internal-error"),Oi(n,new Ro(e),e.bypassAuthState)}function Do(e){return Lo.apply(this,arguments)}function Lo(){return(Lo=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,fn(r=t.user,n,"internal-error"),e.abrupt("return",Ai(r,new Ro(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];G(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,Q.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fe(Ue().mark((function t(n,r){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Po;case"linkViaPopup":case"linkViaRedirect":return Do;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:on(this.auth,"internal-error")}}},{key:"resolve",value:function(e){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Fo=new kn(2e3,1e4);function Zo(e,t,n){return Uo.apply(this,arguments)}function Uo(){return(Uo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),cn(t,n,li),a=No(i,r),o=new zo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(){return(Vo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cn((i=Le(t)).auth,n,li),a=No(i.auth,r),o=new zo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cn((i=Le(t)).auth,n,li),a=No(i.auth,r),o=new zo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zo=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a,o){var u;return G(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,J.Z)(u),u}return(0,Q.Z)(n,[{key:"executeNotNull",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return fn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dn(1===this.filter.length,"Popup operations only handle one event"),t=La(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(un(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(un(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(un(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Fo.get())}()}}]),n}(Mo);zo.currentPopupAction=null;var qo=new Map,Wo=function(e){ee(n,e);var t=ae(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return G(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,Q.Z)(n,[{key:"execute",value:function(){var e=Fe(Ue().mark((function e(){var t,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ho(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ut(te(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:qo.set(this.auth._key(),t);case 21:return this.bypassAuthState||qo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ut(te(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ut(te(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Mo);function Ho(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(n),i=Yo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t)._set($o(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e){return vn(e._redirectPersistence)}function $o(e){return ur("pendingRedirect",e.config.apiKey,e.name)}function Jo(e,t,n){return function(e,t,n){return Xo.apply(this,arguments)}(e,t,n)}function Xo(){return(Xo=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),cn(t,n,li),a=No(i,r),e.next=5,Go(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e,t,n){return function(e,t,n){return tu.apply(this,arguments)}(e,t,n)}function tu(){return(tu=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cn((i=Le(t)).auth,n,li),a=No(i.auth,r),e.next=5,Go(a,i.auth);case 5:return e.next=7,su(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t,n){return function(e,t,n){return ru.apply(this,arguments)}(e,t,n)}function ru(){return(ru=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cn((i=Le(t)).auth,n,li),a=No(i.auth,r),e.next=5,Ri(!1,i,n.providerId);case 5:return e.next=7,Go(a,i.auth);case 7:return e.next=9,su(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return(au=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(t)._initializationPromise;case 2:return e.abrupt("return",ou(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=_r(t),a=No(i,n),o=new Wo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e){return cu.apply(this,arguments)}function cu(){return(cu=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=La("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lu=function(){function e(t){G(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,Q.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(un(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function du(e){return pu.apply(this,arguments)}function pu(){return pu=Fe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",In(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}var vu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mu=/^https?/;function yu(){return(yu=Fe(Ue().mark((function e(t){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,du(t);case 4:n=e.sent,r=n.authorizedDomains,i=$(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:on(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function gu(e){var t=mn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!mu.test(r))return!1;if(vu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ku=new kn(3e4,6e4);function bu(){var e=Fa().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,i.Z)(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}var wu=null;function xu(e){return wu=wu||function(e){return new Promise((function(t,n){var r,i,a;function o(){bu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bu(),n(un(e,"network-request-failed"))},timeout:ku.get()})}if(null===(i=null===(r=Fa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Fa().gapi)||void 0===a?void 0:a.load)){var u=oo("iframefcb");return Fa()[u]=function(){gapi.load?o():n(un(e,"network-request-failed"))},ao("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wu=null,e}))}(e),wu}var _u=new kn(5e3,15e3),Eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Su(e){var t=e.config;fn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:kt},i=Iu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ae(r).slice(1))}function Tu(e){return Cu.apply(this,arguments)}function Cu(){return Cu=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xu(t);case 2:return n=e.sent,fn(r=Fa().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Su(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eu,dontclear:!0},(function(e){return new Promise(function(){var n=Fe(Ue().mark((function n(r,i){var a,o,u;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Fa().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=un(t,"network-request-failed"),o=Fa().setTimeout((function(){i(a)}),_u.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nu="_blank",Ru="http://localhost",Pu=function(){function e(t){G(this,e),this.window=t,this.associatedEvent=null}return(0,Q.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ou(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Au),{width:r.toString(),height:i.toString(),top:o,left:u}),l=ve().toLowerCase();n&&(s=hr(l)?Nu:n),lr(l)&&(t=t||Ru,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(gr(l)&&"_self"!==s)return Du(t||"",s),new Pu(null);var h=window.open(t||"",s,f);fn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Pu(h)}function Du(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Lu="__/auth/handler",Mu="emulator/auth/handler";function Fu(e,t,n,r,i,o){fn(e.config.authDomain,e,"auth-domain-config-required"),fn(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:kt,eventId:i};if(t instanceof li){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof fi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Lu);return bn(t,Mu)}(e),"?").concat(Ae(p).slice(1))}var Zu="webStorageSupport",Uu=function(){function e(){G(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=ou}return(0,Q.Z)(e,[{key:"_openPopup",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Fu(t,n,r,mn(),i),e.abrupt("return",Ou(t,o,La()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Fu(t,n,r,mn(),i),Fa().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(dn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(t);case 2:return n=e.sent,r=new lu(t),n.register("authEvent",(function(e){return fn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Zu,{type:Zu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),on(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return br()||fr()||yr()}}]),e}(),Vu=Uu,ju=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,Q.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:finalize",En(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:finalize",En(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){G(this,e),this.factorId=t}return(0,Q.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return hn("unexpected MultiFactorSessionType")}}}]),e}()),Bu=function(){function e(){G(this,e)}return(0,Q.Z)(e,null,[{key:"assertion",value:function(e){return ju._fromCredential(e)}}]),e}();Bu.FACTOR_ID="phone";var zu,qu="@firebase/auth",Wu="0.19.4",Hu=function(){function e(t){G(this,e),this.auth=t,this.internalListeners=new Map}return(0,Q.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){fn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ku(){return window}zu="Browser",lt(new Ve("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){fn(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),fn(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:zu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wr(zu)},r=new xr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),lt(new Ve("auth-internal",(function(e){return function(e){return new Hu(e)}(_r(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),It(qu,Wu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zu)),It(qu,Wu,"esm2017");function Gu(e,t,n){return Qu.apply(this,arguments)}function Qu(){return Qu=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ku(),o=a.BuildInfo,dn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ts(n.sessionId);case 4:return u=e.sent,s={},yr()?s.ibi=o.packageName:pr()?s.apn=o.packageName:on(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Fu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function Yu(){return(Yu=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ku(),r=n.BuildInfo,i={},yr()?i.iosBundleId=r.packageName:pr()?i.androidPackageName=r.packageName:on(t,"operation-not-supported-in-this-environment"),e.next=5,du(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e){var t=Ku().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return Xu=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ku(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(un(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),pr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Xu.apply(this,arguments)}function es(e){var t,n,r,i,a,o,u,s,c,l,f=Ku();fn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fn("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ts(e){return ns.apply(this,arguments)}function ns(){return(ns=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rs(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e){if(dn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var is=function(e){ee(n,e);var t=ae(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,Q.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ut(te(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(lu);function as(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ls(),postBody:null,tenantId:e.tenantId,error:un(e,"no-auth-event")}}function os(e,t){return fs()._set(hs(e),t)}function us(e){return ss.apply(this,arguments)}function ss(){return(ss=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs()._get(hs(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,fs()._remove(hs(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(e,t){var n,r,i=function(e){var t=ds(e),n=t.link?decodeURIComponent(t.link):void 0,r=ds(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ds(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ds(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?un(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ls(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function fs(){return vn(Na)}function hs(e){return ur("authEvent",e.config.apiKey,e.name)}function ds(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Lt.Z)(t)||(0,Mt.Z)(t)||(0,Y.Z)(t)||(0,Ft.Z)());r[0];return Ne(r.slice(1).join("?"))}var ps=function(){function e(){G(this,e),this._redirectPersistence=Pa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ou}return(0,Q.Z)(e,[{key:"_initialize",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new is(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){on(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return es(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),qo.clear(),e.next=10,this._originValidation(t);case 10:return o=as(t,r,i),e.next=13,os(t,o);case 13:return e.next=15,Gu(t,o,n);case 15:return u=e.sent,e.next=18,$u(u);case 18:return s=e.sent,e.abrupt("return",Ju(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Yu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ku(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,us(e);case 2:t.onEvent(ms());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Fe(Ue().mark((function n(r){var i,a;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,us(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=cs(i,r.url)),t.onEvent(a||ms());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ku().handleOpenURL=function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),vs=ps;function ms(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:un("no-auth-event")}}function ys(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return!("file:"!==ys()&&"ionic:"!==ys()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ks(){return be()&&11===(null===document||void 0===document?void 0:document.documentMode)}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return/Edge\/\d+/.test(e)}function ws(){try{var e=self.localStorage,t=La();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve();return ks()||bs(e)}()||we()}catch(n){return xs()&&we()}return!1}function xs(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function _s(){return("http:"===ys()||"https:"===ys()||ge()||gs())&&!(ke()||ye())&&ws()&&!xs()}function Es(){return gs()&&"undefined"!==typeof document}function Is(){return Ss.apply(this,arguments)}function Ss(){return(Ss=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Es()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ts={LOCAL:"local",NONE:"none",SESSION:"session"},Cs=fn,As="persistence";function Ns(e,t){Cs(Object.values(Ts).includes(t),e,"invalid-persistence-type"),ke()?Cs(t!==Ts.SESSION,e,"unsupported-persistence-type"):ye()?Cs(t===Ts.NONE,e,"unsupported-persistence-type"):xs()?Cs(t===Ts.NONE||t===Ts.LOCAL&&we(),e,"unsupported-persistence-type"):Cs(t===Ts.NONE||ws(),e,"unsupported-persistence-type")}function Rs(e){return Ps.apply(this,arguments)}function Ps(){return(Ps=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Os(),r=ur(As,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(){return"undefined"!==typeof window?window:null}var Ds=fn,Ls=function(){function e(){G(this,e),this.browserResolver=vn(Vu),this.cordovaResolver=vn(vs),this.underlyingResolver=null,this._redirectPersistence=Pa,this._completeRedirectFn=ou}return(0,Q.Z)(e,[{key:"_initialize",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Es()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ds(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Is();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ms(e){return e.unwrap()}function Fs(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Bs(e,function(e,t){var n,r=Le(e),i=t;return fn(t.customData.operationType,r,"argument-error"),fn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_a._fromError(r,i)}(e,t));else if(r){var i=Zs(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Zs(e){var t=(e instanceof xe?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xe)&&"temporaryProof"in t&&"phoneNumber"in t)return Ao.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Wt)return null;switch(r){case qt:n=pi;break;case Bt:n=di;break;case zt:n=vi;break;case Ht:n=gi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?mi._create(r,u):ei._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new hi(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xe?n.credentialFromError(e):n.credentialFromResult(e)}function Us(e,t){return t.catch((function(t){throw t instanceof xe&&Fs(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Zs(t)),additionalUserInfo:wa(e),user:zs.getOrCreate(r)}}))}function Vs(e,t){return js.apply(this,arguments)}function js(){return(js=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Us(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bs=function(){function e(t,n){G(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,Q.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Us(Ms(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),zs=function(){function e(t){G(this,e),this._delegate=t,this.multiFactor=function(e){var t=Le(e);return Sa.has(t)||Sa.set(t,Ia._fromUser(t)),Sa.get(t)}(t)}return(0,Q.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(this.auth,Ui(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vs(this.auth,_o(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(this.auth,jo(this._delegate,t,Ls)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs(_r(this.auth));case 2:return e.abrupt("return",nu(this._delegate,t,Ls));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(this.auth,ji(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vs(this.auth,function(e,t,n){return Io.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Us(this.auth,function(e,t,n){return Vo.apply(this,arguments)}(this._delegate,e,Ls))}},{key:"reauthenticateWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs(_r(this.auth));case 2:return e.abrupt("return",eu(this._delegate,t,Ls));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return sa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return da(Le(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return da(Le(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Co.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ha.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();zs.USER_MAP=new WeakMap;var qs=fn,Ws=function(){function e(t,n){if(G(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;qs(r,"invalid-api-key",{appName:t.name});var i=[or];if("undefined"!==typeof window){i=function(e,t){var n=Os();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=ur(As,e,t);switch(n.sessionStorage.getItem(r)){case Ts.NONE:return[or];case Ts.LOCAL:return[to,Pa];case Ts.SESSION:return[Pa];default:return[]}}(r,t.name);for(var a=0,o=[to,Na,Pa];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}qs(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?Ls:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(en),this.linkUnderlyingAuth()}return(0,Q.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?zs.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ir(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $i.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ji(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Yi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(this._delegate,ta(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ua.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=si.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs(_s(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,iu(this._delegate,Ls);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Us(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_r(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Hs(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Hs(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ra.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Qi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ns(this._delegate,t),e.t0=t,e.next=e.t0===Ts.SESSION?4:e.t0===Ts.LOCAL?6:e.t0===Ts.NONE?11:13;break;case 4:return n=Pa,e.abrupt("break",14);case 6:return e.next=8,vn(to)._isAvailable();case 8:return r=e.sent,n=r?to:Na,e.abrupt("break",14);case 11:return n=or,e.abrupt("break",14);case 13:return e.abrupt("return",on("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Us(this._delegate,function(e){return _i.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Us(this._delegate,Fi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Us(this._delegate,function(e,t){return Wi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Us(this._delegate,function(e,t,n){return Fi(Le(e),ci.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Us(this._delegate,function(e,t,n){return ia.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vs(this._delegate,function(e,t,n){return xo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs(_s(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Us(this._delegate,Zo(this._delegate,t,Ls)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs(_s(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rs(this._delegate);case 3:return e.abrupt("return",Jo(this._delegate,t,Ls));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ea.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Hs(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&zs.getOrCreate(e))},error:t,complete:n}}Ws.Persistence=Ts;var Ks=function(){function e(){G(this,e),this.providerId="phone",this._delegate=new Ao(Ms(Dt.auth()))}return(0,Q.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ao.credential(e,t)}}]),e}();Ks.PHONE_SIGN_IN_METHOD=Ao.PHONE_SIGN_IN_METHOD,Ks.PROVIDER_ID=Ao.PROVIDER_ID;var Gs,Qs=fn,Ys=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.app();G(this,e),Qs(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ko(t,n,i.auth()),this.type=this._delegate.type}return(0,Q.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Gs=Dt).INTERNAL.registerComponent(new Ve("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ws(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kt,PASSWORD_RESET:Gt,RECOVER_EMAIL:Qt,REVERT_SECOND_FACTOR_ADDITION:Yt,VERIFY_AND_CHANGE_EMAIL:$t,VERIFY_EMAIL:Jt}},EmailAuthProvider:ci,FacebookAuthProvider:di,GithubAuthProvider:vi,GoogleAuthProvider:pi,OAuthProvider:hi,SAMLAuthProvider:yi,PhoneAuthProvider:Ks,PhoneMultiFactorGenerator:Bu,RecaptchaVerifier:Ys,TwitterAuthProvider:gi,Auth:Ws,AuthCredential:Cr,Error:xe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Gs.registerVersion("@firebase/auth-compat","0.2.4");var $s,Js="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xs={},ec=ec||{},tc=Js||self;function nc(){}function rc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ic(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ac="closure_uid_"+(1e9*Math.random()>>>0),oc=0;function uc(e,t,n){return e.call.apply(e.bind,arguments)}function sc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function cc(e,t,n){return(cc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uc:sc).apply(null,arguments)}function lc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function hc(){this.s=this.s,this.o=this.o}var dc={};hc.prototype.s=!1,hc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ac)&&e[ac]||(e[ac]=++oc)}(this);delete dc[e]}},hc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},vc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function mc(e){return Array.prototype.concat.apply([],arguments)}function yc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gc(e){return/^[\s\xa0]*$/.test(e)}var kc,bc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wc(e,t){return-1!=e.indexOf(t)}function xc(e,t){return e<t?-1:e>t?1:0}e:{var _c=tc.navigator;if(_c){var Ec=_c.userAgent;if(Ec){kc=Ec;break e}}kc=""}function Ic(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sc(e){var t={};for(var n in e)t[n]=e[n];return t}var Tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Tc.length;a++)n=Tc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ac(e){return Ac[" "](e),e}Ac[" "]=nc;var Nc,Rc=wc(kc,"Opera"),Pc=wc(kc,"Trident")||wc(kc,"MSIE"),Oc=wc(kc,"Edge"),Dc=Oc||Pc,Lc=wc(kc,"Gecko")&&!(wc(kc.toLowerCase(),"webkit")&&!wc(kc,"Edge"))&&!(wc(kc,"Trident")||wc(kc,"MSIE"))&&!wc(kc,"Edge"),Mc=wc(kc.toLowerCase(),"webkit")&&!wc(kc,"Edge");function Fc(){var e=tc.document;return e?e.documentMode:void 0}e:{var Zc="",Uc=function(){var e=kc;return Lc?/rv:([^\);]+)(\)|;)/.exec(e):Oc?/Edge\/([\d\.]+)/.exec(e):Pc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mc?/WebKit\/(\S+)/.exec(e):Rc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Uc&&(Zc=Uc?Uc[1]:""),Pc){var Vc=Fc();if(null!=Vc&&Vc>parseFloat(Zc)){Nc=String(Vc);break e}}Nc=Zc}var jc,Bc={};function zc(){return function(e){var t=Bc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=bc(String(Nc)).split("."),n=bc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=xc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||xc(0==a[2].length,0==o[2].length)||xc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(tc.document&&Pc){var qc=Fc();jc=qc||(parseInt(Nc,10)||void 0)}else jc=void 0;var Wc=jc,Hc=function(){if(!tc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tc.addEventListener("test",nc,t),tc.removeEventListener("test",nc,t)}catch(n){}return e}();function Kc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Gc(e,t){if(Kc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lc){e:{try{Ac(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gc.Z.h.call(this)}}Kc.prototype.h=function(){this.defaultPrevented=!0},fc(Gc,Kc);var Qc={2:"touch",3:"pen",4:"mouse"};Gc.prototype.h=function(){Gc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yc="closure_listenable_"+(1e6*Math.random()|0),$c=0;function Jc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++$c,this.ca=this.fa=!1}function Xc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function el(e){this.src=e,this.g={},this.h=0}function tl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=pc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function nl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}el.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=nl(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Jc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var rl="closure_lm_"+(1e6*Math.random()|0),il={};function al(e,t,n,r,i){if(r&&r.once)return ul(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)al(e,t[a],n,r,i);return null}return n=pl(n),e&&e[Yc]?e.N(t,n,ic(r)?!!r.capture:!!r,i):ol(e,t,n,!1,r,i)}function ol(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ic(i)?!!i.capture:!!i,u=hl(e);if(u||(e[rl]=u=new el(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=fl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ll(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ul(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ul(e,t[a],n,r,i);return null}return n=pl(n),e&&e[Yc]?e.O(t,n,ic(r)?!!r.capture:!!r,i):ol(e,t,n,!0,r,i)}function sl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)sl(e,t[a],n,r,i);else r=ic(r)?!!r.capture:!!r,n=pl(n),e&&e[Yc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=nl(a=e.g[t],n,r,i))&&(Xc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=hl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nl(t,n,r,i)),(n=-1<e?t[e]:null)&&cl(n))}function cl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Yc])tl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ll(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hl(t))?(tl(n,e),0==n.h&&(n.src=null,t[rl]=null)):Xc(e)}}}function ll(e){return e in il?il[e]:il[e]="on"+e}function fl(e,t){if(e.ca)e=!0;else{t=new Gc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&cl(e),e=n.call(r,t)}return e}function hl(e){return(e=e[rl])instanceof el?e:null}var dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(e){return"function"===typeof e?e:(e[dl]||(e[dl]=function(t){return e.handleEvent(t)}),e[dl])}function vl(){hc.call(this),this.i=new el(this),this.P=this,this.I=null}function ml(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Kc(t,e);else if(t instanceof Kc)t.target=t.target||e;else{var i=t;Cc(t=new Kc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=yl(o,r,!0,t)&&i}if(i=yl(o=t.g=e,r,!0,t)&&i,i=yl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yl(o=t.g=n[a],r,!1,t)&&i}function yl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&tl(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}fc(vl,hc),vl.prototype[Yc]=!0,vl.prototype.removeEventListener=function(e,t,n,r){sl(this,e,t,n,r)},vl.prototype.M=function(){if(vl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xc(n[r]);delete t.g[e],t.h--}}this.I=null},vl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gl=tc.JSON.stringify;function kl(){var e=Tl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bl,wl=function(){function e(){G(this,e),this.h=this.g=null}return(0,Q.Z)(e,[{key:"add",value:function(e,t){var n=xl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),xl=new(function(){function e(t,n){G(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Q.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new _l}),(function(e){return e.reset()})),_l=function(){function e(){G(this,e),this.next=this.g=this.h=null}return(0,Q.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function El(e){tc.setTimeout((function(){throw e}),0)}function Il(e,t){bl||function(){var e=tc.Promise.resolve(void 0);bl=function(){e.then(Cl)}}(),Sl||(bl(),Sl=!0),Tl.add(e,t)}var Sl=!1,Tl=new wl;function Cl(){for(var e;e=kl();){try{e.h.call(e.g)}catch(n){El(n)}var t=xl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sl=!1}function Al(e,t){vl.call(this),this.h=e||1,this.g=t||tc,this.j=cc(this.kb,this),this.l=Date.now()}function Nl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Rl(e,t,n){if("function"===typeof e)n&&(e=cc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=cc(e.handleEvent,e)}return 2147483647<Number(t)?-1:tc.setTimeout(e,t||0)}function Pl(e){e.g=Rl((function(){e.g=null,e.i&&(e.i=!1,Pl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fc(Al,vl),($s=Al.prototype).da=!1,$s.S=null,$s.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ml(this,"tick"),this.da&&(Nl(this),this.start()))}},$s.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$s.M=function(){Al.Z.M.call(this),Nl(this),delete this.g};var Ol=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Q.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pl(this)}},{key:"M",value:function(){Ut(te(n.prototype),"M",this).call(this),this.g&&(tc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(hc);function Dl(e){hc.call(this),this.h=e,this.g={}}fc(Dl,hc);var Ll=[];function Ml(e,t,n,r){Array.isArray(n)||(n&&(Ll[0]=n.toString()),n=Ll);for(var i=0;i<n.length;i++){var a=al(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Fl(e){Ic(e.g,(function(e,t){this.g.hasOwnProperty(t)&&cl(e)}),e),e.g={}}function Zl(){this.g=!0}function Ul(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gl(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Dl.prototype.M=function(){Dl.Z.M.call(this),Fl(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zl.prototype.Aa=function(){this.g=!1},Zl.prototype.info=function(){};var Vl={},jl=null;function Bl(){return jl=jl||new vl}function zl(e){Kc.call(this,Vl.Ma,e)}function ql(e){var t=Bl();ml(t,new zl(t,e))}function Wl(e,t){Kc.call(this,Vl.STAT_EVENT,e),this.stat=t}function Hl(e){var t=Bl();ml(t,new Wl(t,e))}function Kl(e,t){Kc.call(this,Vl.Na,e),this.size=t}function Gl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return tc.setTimeout((function(){e()}),t)}Vl.Ma="serverreachability",fc(zl,Kc),Vl.STAT_EVENT="statevent",fc(Wl,Kc),Vl.Na="timingevent",fc(Kl,Kc);var Ql={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $l(){}function Jl(e){return e.h||(e.h=e.i())}function Xl(){}$l.prototype.h=null;var ef,tf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nf(){Kc.call(this,"d")}function rf(){Kc.call(this,"c")}function af(){}function of(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Dl(this),this.P=sf,e=Dc?125:void 0,this.W=new Al(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uf}function uf(){this.i=null,this.g="",this.h=!1}fc(nf,Kc),fc(rf,Kc),fc(af,$l),af.prototype.g=function(){return new XMLHttpRequest},af.prototype.i=function(){return{}},ef=new af;var sf=45e3,cf={},lf={};function ff(e,t,n){e.K=1,e.v=Df(Cf(t)),e.s=n,e.U=!0,hf(e,null)}function hf(e,t){e.F=Date.now(),mf(e),e.A=Cf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Kf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new uf,e.g=Qh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ol(cc(e.Ia,e,e.g),e.O)),Ml(e.V,e.g,"readystatechange",e.gb),t=e.H?Sc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ql(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function df(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function pf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=vf(e,n))==lf){4==t&&(e.o=4,Hl(14),i=!1),Ul(e.j,e.m,null,"[Incomplete Response]");break}if(r==cf){e.o=4,Hl(15),Ul(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ul(e.j,e.m,r,null),wf(e,r)}df(e)&&r!=lf&&r!=cf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jh(t),t.L=!0,Hl(11))):(Ul(e.j,e.m,n,"[Invalid Chunked Response]"),bf(e),kf(e))}function vf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lf:(n=Number(t.substring(n,r)),isNaN(n)?cf:(r+=1)+n>t.length?lf:(t=t.substr(r,n),e.C=r+n,t))}function mf(e){e.Y=Date.now()+e.P,yf(e,e.P)}function yf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gl(cc(e.eb,e),t)}function gf(e){e.B&&(tc.clearTimeout(e.B),e.B=null)}function kf(e){0==e.l.G||e.I||qh(e.l,e)}function bf(e){gf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Nl(e.W),Fl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||th(n.i,e)))if(n.I=e.N,!e.J&&th(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zh(n),Ph(n)}Vh(n),Hl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gl(cc(n.ab,n),6e3));if(1>=eh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Hh(n,11)}else if((e.J||n.g==e)&&zh(n),!gc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(wc(l,"spdy")||wc(l,"quic")||wc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Of(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Gh(r,r.H?r.la:null,r.W),d.J){rh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(gf(p),mf(p)),r.g=d}else Uh(r);0<n.l.length&&Lh(n)}else"stop"!=a[0]&&"close"!=a[0]||Hh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Hh(n,7):Rh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ql(4)}catch(a){}}function xf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rc(e)||"string"===typeof e)vc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(rc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(rc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _f(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _f)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ef(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];If(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)If(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function If(e,t){return Object.prototype.hasOwnProperty.call(e,t)}($s=of.prototype).setTimeout=function(e){this.P=e},$s.gb=function(e){e=e.target;var t=this.L;t&&3==Sh(e)?t.l():this.Ia(e)},$s.Ia=function(e){try{if(e==this.g)e:{var t=Sh(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Dc||this.g&&(this.h.h||this.g.ga()||Th(this.g)))){this.I||4!=t||7==n||ql(8==n||0>=r?3:2),gf(this);var i=this.g.ba();this.N=i;t:if(df(this)){var a=Th(this.g);e="";var o=a.length,u=4==Sh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bf(this),kf(this);var s="";break t}this.h.i=new tc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Hl(12),bf(this),kf(this);break e}Ul(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wf(this,i)}this.U?(pf(this,t,s),Dc&&this.i&&3==t&&(Ml(this.V,this.W,"tick",this.fb),this.W.start())):(Ul(this.j,this.m,s,null),wf(this,s)),4==t&&bf(this),this.i&&!this.I&&(4==t?qh(this.l,this):(this.i=!1,mf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Hl(12)):(this.o=0,Hl(13)),bf(this),kf(this)}}}catch(t){}},$s.fb=function(){if(this.g){var e=Sh(this.g),t=this.g.ga();this.C<t.length&&(gf(this),pf(this,e,t),this.i&&4!=e&&mf(this))}},$s.cancel=function(){this.I=!0,bf(this)},$s.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ql(3),Hl(17)),bf(this),this.o=2,kf(this)):yf(this,this.Y-e)},($s=_f.prototype).R=function(){Ef(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},$s.T=function(){return Ef(this),this.g.concat()},$s.get=function(e,t){return If(this.h,e)?this.h[e]:t},$s.set=function(e,t){If(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},$s.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Sf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Tf){this.g=void 0!==t?t:e.g,Af(this,e.j),this.s=e.s,Nf(this,e.i),Rf(this,e.m),this.l=e.l,t=e.h;var n=new zf;n.i=t.i,t.g&&(n.g=new _f(t.g),n.h=t.h),Pf(this,n),this.o=e.o}else e&&(n=String(e).match(Sf))?(this.g=!!t,Af(this,n[1]||"",!0),this.s=Lf(n[2]||""),Nf(this,n[3]||"",!0),Rf(this,n[4]),this.l=Lf(n[5]||"",!0),Pf(this,n[6]||"",!0),this.o=Lf(n[7]||"")):(this.g=!!t,this.h=new zf(null,this.g))}function Cf(e){return new Tf(e)}function Af(e,t,n){e.j=n?Lf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nf(e,t,n){e.i=n?Lf(t,!0):t}function Rf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pf(e,t,n){t instanceof zf?(e.h=t,function(e,t){t&&!e.j&&(qf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wf(this,t),Kf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Mf(t,jf)),e.h=new zf(t,e.g))}function Of(e,t,n){e.h.set(t,n)}function Df(e){return Of(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ff),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ff(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mf(t,Zf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mf(t,Zf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mf(n,"/"==n.charAt(0)?Vf:Uf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mf(n,Bf)),e.join("")};var Zf=/[#\/\?@]/g,Uf=/[#\?:]/g,Vf=/[#\?]/g,jf=/[#\?@]/g,Bf=/#/g;function zf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qf(e){e.g||(e.g=new _f,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wf(e,t){qf(e),t=Gf(e,t),If(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,If((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ef(e)))}function Hf(e,t){return qf(e),t=Gf(e,t),If(e.g.h,t)}function Kf(e,t,n){Wf(e,t),0<n.length&&(e.i=null,e.g.set(Gf(e,t),yc(n)),e.h+=n.length)}function Gf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($s=zf.prototype).add=function(e,t){qf(this),this.i=null,e=Gf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$s.forEach=function(e,t){qf(this),this.g.forEach((function(n,r){vc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},$s.T=function(){qf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},$s.R=function(e){qf(this);var t=[];if("string"===typeof e)Hf(this,e)&&(t=mc(t,this.g.get(Gf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=mc(t,e[n])}return t},$s.set=function(e,t){return qf(this),this.i=null,Hf(this,e=Gf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$s.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},$s.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Qf=(0,Q.Z)((function e(t,n){G(this,e),this.h=t,this.g=n}));function Yf(e){this.l=e||Jf,tc.PerformanceNavigationTiming?e=0<(e=tc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(tc.g&&tc.g.Ea&&tc.g.Ea()&&tc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $f,Jf=10;function Xf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eh(e){return e.h?1:e.g?e.g.size:0}function th(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nh(e,t){e.g?e.g.add(t):e.h=t}function rh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ih(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return yc(e.i)}function ah(){}function oh(){this.g=new ah}function uh(e,t,n){var r=n||"";try{xf(e,(function(e,n){var i=e;ic(e)&&(i=gl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ch(e){this.l=e.$b||null,this.j=e.ib||!1}function lh(e,t){vl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=fh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yf.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ah.prototype.stringify=function(e){return tc.JSON.stringify(e,void 0)},ah.prototype.parse=function(e){return tc.JSON.parse(e,void 0)},fc(ch,$l),ch.prototype.g=function(){return new lh(this.l,this.j)},ch.prototype.i=($f={},function(){return $f}),fc(lh,vl);var fh=0;function hh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function dh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ph(e)}function ph(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($s=lh.prototype).open=function(e,t){if(this.readyState!=fh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ph(this)},$s.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||tc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$s.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dh(this)),this.readyState=fh},$s.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof tc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},$s.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dh(this):ph(this),3==this.readyState&&hh(this)}},$s.Ua=function(e){this.g&&(this.response=this.responseText=e,dh(this))},$s.Ta=function(e){this.g&&(this.response=e,dh(this))},$s.ha=function(){this.g&&dh(this)},$s.setRequestHeader=function(e,t){this.v.append(e,t)},$s.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$s.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vh=tc.JSON.parse;function mh(e){vl.call(this),this.headers=new _f,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yh,this.K=this.L=!1}fc(mh,vl);var yh="",gh=/^https?$/i,kh=["POST","PUT"];function bh(e){return"content-type"==e.toLowerCase()}function wh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xh(e),Eh(e)}function xh(e){e.D||(e.D=!0,ml(e,"complete"),ml(e,"error"))}function _h(e){if(e.h&&"undefined"!=typeof ec&&(!e.C[1]||4!=Sh(e)||2!=e.ba()))if(e.v&&4==Sh(e))Rl(e.Fa,0,e);else if(ml(e,"readystatechange"),4==Sh(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Sf)[1]||null;if(!a&&tc.self&&tc.self.location){var o=tc.self.location.protocol;a=o.substr(0,o.length-1)}i=!gh.test(a?a.toLowerCase():"")}t=i}if(t)ml(e,"complete"),ml(e,"success");else{e.m=6;try{var u=2<Sh(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",xh(e)}}finally{Eh(e)}}}function Eh(e,t){if(e.g){Ih(e);var n=e.g,r=e.C[0]?nc:null;e.g=null,e.C=null,t||ml(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ih(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(tc.clearTimeout(e.A),e.A=null)}function Sh(e){return e.g?e.g.readyState:0}function Th(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ch(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ic(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Of(e,t,n))}function Ah(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nh(e){this.za=0,this.l=[],this.h=new Zl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ah("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ah("baseRetryDelayMs",5e3,e),this.$a=Ah("retryDelaySeedMs",1e4,e),this.Ya=Ah("forwardChannelMaxRetries",2,e),this.ra=Ah("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Yf(e&&e.concurrentRequestLimit),this.Ca=new oh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Rh(e){if(Oh(e),3==e.G){var t=e.V++,n=Cf(e.F);Of(n,"SID",e.J),Of(n,"RID",t),Of(n,"TYPE","terminate"),Fh(e,n),(t=new of(e,e.h,t,void 0)).K=2,t.v=Df(Cf(n)),n=!1,tc.navigator&&tc.navigator.sendBeacon&&(n=tc.navigator.sendBeacon(t.v.toString(),"")),!n&&tc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),mf(t)}Kh(e)}function Ph(e){e.g&&(jh(e),e.g.cancel(),e.g=null)}function Oh(e){Ph(e),e.u&&(tc.clearTimeout(e.u),e.u=null),zh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&tc.clearTimeout(e.m),e.m=null)}function Dh(e,t){e.l.push(new Qf(e.Za++,t)),3==e.G&&Lh(e)}function Lh(e){Xf(e.i)||e.m||(e.m=!0,Il(e.Ha,e),e.C=0)}function Mh(e,t){var n;n=t?t.m:e.V++;var r=Cf(e.F);Of(r,"SID",e.J),Of(r,"RID",n),Of(r,"AID",e.U),Fh(e,r),e.o&&e.s&&Ch(r,e.o,e.s),n=new of(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nh(e.i,n),ff(n,r,t)}function Fh(e,t){e.j&&xf({},(function(e,n){Of(t,n,e)}))}function Zh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?cc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{uh(l,o,"req"+c+"_")}catch(Td){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Uh(e){e.g||e.u||(e.Y=1,Il(e.Ga,e),e.A=0)}function Vh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Gl(cc(e.Ga,e),Wh(e,e.A)),e.A++,!0)}function jh(e){null!=e.B&&(tc.clearTimeout(e.B),e.B=null)}function Bh(e){e.g=new of(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Cf(e.oa);Of(t,"RID","rpc"),Of(t,"SID",e.J),Of(t,"CI",e.N?"0":"1"),Of(t,"AID",e.U),Fh(e,t),Of(t,"TYPE","xmlhttp"),e.o&&e.s&&Ch(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Df(Cf(t)),n.s=null,n.U=!0,hf(n,e)}function zh(e){null!=e.v&&(tc.clearTimeout(e.v),e.v=null)}function qh(e,t){var n=null;if(e.g==t){zh(e),jh(e),e.g=null;var r=2}else{if(!th(e.i,t))return;n=t.D,rh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ml(r=Bl(),new Kl(r,n,t,i)),Lh(e)}else Uh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(eh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Gl(cc(e.Ha,e,t),Wh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Hh(e,5);break;case 4:Hh(e,10);break;case 3:Hh(e,6);break;default:Hh(e,2)}}function Wh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Hh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=cc(e.jb,e);n||(n=new Tf("//www.google.com/images/cleardot.gif"),tc.location&&"http"==tc.location.protocol||Af(n,"https"),Df(n)),function(e,t){var n=new Zl;if(tc.Image){var r=new Image;r.onload=lc(sh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lc(sh,n,r,"TestLoadImage: error",!1,t),r.onabort=lc(sh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lc(sh,n,r,"TestLoadImage: timeout",!1,t),tc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hl(2);e.G=0,e.j&&e.j.va(t),Kh(e),Oh(e)}function Kh(e){e.G=0,e.I=-1,e.j&&(0==ih(e.i).length&&0==e.l.length||(e.i.i.length=0,yc(e.l),e.l.length=0),e.j.ua())}function Gh(e,t,n){var r=function(e){return e instanceof Tf?Cf(e):new Tf(e,void 0)}(n);if(""!=r.i)t&&Nf(r,t+"."+r.i),Rf(r,r.m);else{var i=tc.location;r=function(e,t,n,r){var i=new Tf(null,void 0);return e&&Af(i,e),t&&Nf(i,t),n&&Rf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ic(e.aa,(function(e,t){Of(r,t,e)})),t=e.D,n=e.sa,t&&n&&Of(r,t,n),Of(r,"VER",e.ma),Fh(e,r),r}function Qh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new mh(new ch({ib:!0})):new mh(e.qa)).L=e.H,t}function Yh(){}function $h(){if(Pc&&!(10<=Number(Wc)))throw Error("Environmental error: no available transport.")}function Jh(e,t){vl.call(this),this.g=new Nh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new td(this)}function Xh(e){nf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ed(){rf.call(this),this.status=1}function td(e){this.g=e}($s=mh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ef.g(),this.C=this.u?Jl(this.u):Jl(ef),this.g.onreadystatechange=cc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void wh(this,a)}e=n||"";var i=new _f(this.headers);r&&xf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=bh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=tc.FormData&&e instanceof tc.FormData,!(0<=pc(kh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ih(this),0<this.B&&((this.K=function(e){return Pc&&zc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cc(this.pa,this)):this.A=Rl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){wh(this,a)}},$s.pa=function(){"undefined"!=typeof ec&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ml(this,"timeout"),this.abort(8))},$s.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ml(this,"complete"),ml(this,"abort"),Eh(this))},$s.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),mh.Z.M.call(this)},$s.Fa=function(){this.s||(this.F||this.v||this.l?_h(this):this.cb())},$s.cb=function(){_h(this)},$s.ba=function(){try{return 2<Sh(this)?this.g.status:-1}catch($f){return-1}},$s.ga=function(){try{return this.g?this.g.responseText:""}catch($f){return""}},$s.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vh(t)}},$s.Da=function(){return this.m},$s.La=function(){return"string"===typeof this.j?this.j:String(this.j)},($s=Nh.prototype).ma=8,$s.G=1,$s.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},$s.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new of(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Cc(n=Sc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zh(this,t,r),Of(i=Cf(this.F),"RID",e),Of(i,"CVER",22),this.D&&Of(i,"X-HTTP-Session-Id",this.D),Fh(this,i),this.o&&n&&Ch(i,this.o,n),nh(this.i,t),this.Ra&&Of(i,"TYPE","init"),this.ja?(Of(i,"$req",r),Of(i,"SID","null"),t.$=!0,ff(t,i,null)):ff(t,i,r),this.G=2}}else 3==this.G&&(e?Mh(this,e):0==this.l.length||Xf(this.i)||Mh(this))},$s.Ga=function(){if(this.u=null,Bh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gl(cc(this.bb,this),e)}},$s.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hl(10),Ph(this),Bh(this))},$s.ab=function(){null!=this.v&&(this.v=null,Ph(this),Vh(this),Hl(19))},$s.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hl(2)):(this.h.info("Failed to ping google.com"),Hl(1))},($s=Yh.prototype).xa=function(){},$s.wa=function(){},$s.va=function(){},$s.ua=function(){},$s.Oa=function(){},$h.prototype.g=function(e,t){return new Jh(e,t)},fc(Jh,vl),Jh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Il(cc(e.hb,e,t))),Hl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Gh(e,null,e.W),Lh(e)},Jh.prototype.close=function(){Rh(this.g)},Jh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Dh(this.g,t)}else this.v?((t={}).__data__=gl(e),Dh(this.g,t)):Dh(this.g,e)},Jh.prototype.M=function(){this.g.j=null,delete this.j,Rh(this.g),delete this.g,Jh.Z.M.call(this)},fc(Xh,nf),fc(ed,rf),fc(td,Yh),td.prototype.xa=function(){ml(this.g,"a")},td.prototype.wa=function(e){ml(this.g,new Xh(e))},td.prototype.va=function(e){ml(this.g,new ed(e))},td.prototype.ua=function(){ml(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,Jh.prototype.send=Jh.prototype.u,Jh.prototype.open=Jh.prototype.m,Jh.prototype.close=Jh.prototype.close,Ql.NO_ERROR=0,Ql.TIMEOUT=8,Ql.HTTP_ERROR=6,Yl.COMPLETE="complete",Xl.EventType=tf,tf.OPEN="a",tf.CLOSE="b",tf.ERROR="c",tf.MESSAGE="d",vl.prototype.listen=vl.prototype.N,mh.prototype.listenOnce=mh.prototype.O,mh.prototype.getLastError=mh.prototype.La,mh.prototype.getLastErrorCode=mh.prototype.Da,mh.prototype.getStatus=mh.prototype.ba,mh.prototype.getResponseJson=mh.prototype.Qa,mh.prototype.getResponseText=mh.prototype.ga,mh.prototype.send=mh.prototype.ea;var nd=Xs.createWebChannelTransport=function(){return new $h},rd=Xs.getStatEventTarget=function(){return Bl()},id=Xs.ErrorCode=Ql,ad=Xs.EventType=Yl,od=Xs.Event=Vl,ud=Xs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sd=Xs.FetchXmlHttpFactory=ch,cd=Xs.WebChannel=Xl,ld=Xs.XhrIo=mh,fd="@firebase/firestore",hd=function(){function e(t){G(this,e),this.uid=t}return(0,Q.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();hd.UNAUTHENTICATED=new hd(null),hd.GOOGLE_CREDENTIALS=new hd("google-credentials-uid"),hd.FIRST_PARTY=new hd("first-party-uid"),hd.MOCK_USER=new hd("mock-user");var dd="9.6.1",pd=new Xe("@firebase/firestore");function vd(){return pd.logLevel}function md(e){if(pd.logLevel<=qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(kd);pd.debug.apply(pd,["Firestore (".concat(dd,"): ").concat(e)].concat((0,i.Z)(a)))}}function yd(e){if(pd.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(kd);pd.error.apply(pd,["Firestore (".concat(dd,"): ").concat(e)].concat((0,i.Z)(a)))}}function gd(e){if(pd.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(kd);pd.warn.apply(pd,["Firestore (".concat(dd,"): ").concat(e)].concat((0,i.Z)(a)))}}function kd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(dd,") INTERNAL ASSERTION FAILED: ")+e;throw yd(t),new Error(t)}function wd(e,t){e||bd()}function xd(e,t){return e}var _d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ed=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Q.Z)(n)}(ue(Error)),Id=(0,Q.Z)((function e(){var t=this;G(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sd=(0,Q.Z)((function e(t,n){G(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Td=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cd=function(){function e(t){G(this,e),this.token=t,this.changeListener=null}return(0,Q.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ad=function(){function e(t){G(this,e),this.t=t,this.currentUser=hd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Q.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Id;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Id,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){md("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(md("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Id)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(md("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wd("string"==typeof n.accessToken),new Sd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wd(null===e||"string"==typeof e),new hd(e)}}]),e}(),Nd=(0,Q.Z)((function e(t,n,r){G(this,e),this.type="FirstParty",this.user=hd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Rd=function(){function e(t,n,r){G(this,e),this.h=t,this.l=n,this.m=r}return(0,Q.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Nd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Pd=(0,Q.Z)((function e(t){G(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Od=function(){function e(t){G(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return(0,Q.Z)(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&md("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){md("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):md("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(wd("string"==typeof e.token),new Pd(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Dd=function(){function e(t,n){var r=this;G(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return(0,Q.Z)(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ld(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Dd.I=-1;var Md=function(){function e(){G(this,e)}return(0,Q.Z)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ld(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fd(e,t){return e<t?-1:e>t?1:0}function Zd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ud(e){return e+"\0"}var Vd=function(){function e(t,n){if(G(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ed(_d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ed(_d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ed(_d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ed(_d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Q.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fd(this.nanoseconds,e.nanoseconds):Fd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),jd=function(){function e(t){G(this,e),this.timestamp=t}return(0,Q.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vd(0,0))}}]),e}();function Bd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Wd=function(){function e(t,n,r){G(this,e),void 0===n?n=0:n>t.length&&bd(),void 0===r?r=t.length-n:r>t.length-n&&bd(),this.segments=t,this.offset=n,this.len=r}return(0,Q.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hd=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var o=0,u=r;o<u.length;o++){var s=u[o];if(s.indexOf("//")>=0)throw new Ed(_d.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,i.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wd),Kd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gd=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Kd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ed(_d.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ed(_d.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ed(_d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ed(_d.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wd),Qd=function(){function e(t){G(this,e),this.fields=t,t.sort(Gd.comparator)}return(0,Q.Z)(e,[{key:"covers",value:function(e){var t,n=$(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Yd=function(){function e(t){G(this,e),this.binaryString=t}return(0,Q.Z)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Yd.EMPTY_BYTE_STRING=new Yd("");var $d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jd(e){if(wd(!!e),"string"==typeof e){var t=0,n=$d.exec(e);if(wd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xd(e.seconds),nanos:Xd(e.nanos)}}function Xd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ep(e){return"string"==typeof e?Yd.fromBase64String(e):Yd.fromUint8Array(e)}function tp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function np(e){var t=e.mapValue.fields.__previous_value__;return tp(t)?np(t):t}function rp(e){var t=Jd(e.mapValue.fields.__local_write_time__.timestampValue);return new Vd(t.seconds,t.nanos)}function ip(e){return null==e}function ap(e){return 0===e&&1/e==-1/0}function op(e){return"number"==typeof e&&Number.isInteger(e)&&!ap(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var up=function(){function e(t){G(this,e),this.path=t}return(0,Q.Z)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Hd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hd.fromString(t))}},{key:"fromName",value:function(t){return new e(Hd.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Hd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hd(t.slice()))}}]),e}();function sp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tp(e)?4:10:bd()}function cp(e,t){var n=sp(e);if(n!==sp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rp(e).isEqual(rp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jd(e.timestampValue),r=Jd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ep(e.bytesValue).isEqual(ep(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xd(e.geoPointValue.latitude)===Xd(t.geoPointValue.latitude)&&Xd(e.geoPointValue.longitude)===Xd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xd(e.integerValue)===Xd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xd(e.doubleValue),r=Xd(t.doubleValue);return n===r?ap(n)===ap(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zd(e.arrayValue.values||[],t.arrayValue.values||[],cp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bd(n)!==Bd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cp(n[i],r[i])))return!1;return!0}(e,t);default:return bd()}}function lp(e,t){return void 0!==(e.values||[]).find((function(e){return cp(e,t)}))}function fp(e,t){var n=sp(e),r=sp(t);if(n!==r)return Fd(n,r);switch(n){case 0:return 0;case 1:return Fd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xd(e.integerValue||e.doubleValue),r=Xd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hp(e.timestampValue,t.timestampValue);case 4:return hp(rp(e),rp(t));case 5:return Fd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ep(e),r=ep(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fd(n[i],r[i]);if(0!==a)return a}return Fd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fd(Xd(e.latitude),Xd(t.latitude));return 0!==n?n:Fd(Xd(e.longitude),Xd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=fp(n[i],r[i]);if(a)return a}return Fd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Fd(r[o],a[o]);if(0!==u)return u;var s=fp(n[r[o]],i[a[o]]);if(0!==s)return s}return Fd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bd()}}function hp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fd(e,t);var n=Jd(e),r=Jd(t),i=Fd(n.seconds,r.seconds);return 0!==i?i:Fd(n.nanos,r.nanos)}function dp(e){return pp(e)}function pp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ep(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,up.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=pp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(pp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bd();var t,n}function vp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mp(e){return!!e&&"integerValue"in e}function yp(e){return!!e&&"arrayValue"in e}function gp(e){return!!e&&"nullValue"in e}function kp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bp(e){return!!e&&"mapValue"in e}function wp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wp(e.arrayValue.values[r]);return n}return Object.assign({},e)}var xp=function(){function e(t){G(this,e),this.value=t}return(0,Q.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!bp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wp(t)}},{key:"setAll",value:function(e){var t=this,n=Gd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=wp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());bp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return cp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];bp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zd(t,(function(t,n){return e[t]=n}));var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(wp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function _p(e){var t=[];return zd(e.fields,(function(e,n){var r=new Gd([e]);if(bp(n)){var i=_p(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qd(t)}var Ep=function(){function e(t,n,r,i,a){G(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return(0,Q.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,jd.min(),xp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,xp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,xp.empty(),2)}}]),e}(),Ip=(0,Q.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;G(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Sp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ip(e,t,n,r,i,a,o)}function Tp(e){var t=xd(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+dp(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ip(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Vp(t.startAt)),t.endAt&&(n+="|ub:",n+=Vp(t.endAt)),t.R=n}return t.R}function Cp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!cp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qp(e.startAt,t.startAt)&&qp(e.endAt,t.endAt)}function Ap(e){return up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Np=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,Q.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fp(t,this.value)):null!==t&&sp(this.value)===sp(t)&&this.v(fp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bd()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Rp(e,t,r):"array-contains"===t?new Lp(e,r):"in"===t?new Mp(e,r):"not-in"===t?new Fp(e,r):"array-contains-any"===t?new Zp(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Pp(e,n):new Op(e,n)}}]),n}(function(){return(0,Q.Z)((function e(){G(this,e)}))}());var Rp=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,i)).key=up.fromName(i.referenceValue),a}return(0,Q.Z)(n,[{key:"matches",value:function(e){var t=up.comparator(e.key,this.key);return this.v(t)}}]),n}(Np),Pp=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,"in",r)).keys=Dp("in",r),i}return(0,Q.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Np),Op=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,"not-in",r)).keys=Dp("not-in",r),i}return(0,Q.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Np);function Dp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return up.fromName(e.referenceValue)}))}var Lp=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"array-contains",r)}return(0,Q.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yp(t)&&lp(t.arrayValue,this.value)}}]),n}(Np),Mp=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"in",r)}return(0,Q.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&lp(this.value.arrayValue,t)}}]),n}(Np),Fp=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"not-in",r)}return(0,Q.Z)(n,[{key:"matches",value:function(e){if(lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!lp(this.value.arrayValue,t)}}]),n}(Np),Zp=function(e){ee(n,e);var t=ae(n);function n(e,r){return G(this,n),t.call(this,e,"array-contains-any",r)}return(0,Q.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return lp(t.value.arrayValue,e)}))}}]),n}(Np),Up=(0,Q.Z)((function e(t,n){G(this,e),this.position=t,this.before=n}));function Vp(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return dp(e)})).join(","))}var jp=(0,Q.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";G(this,e),this.field=t,this.dir=n}));function Bp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?up.comparator(up.fromName(o.referenceValue),n.key):fp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function qp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!cp(e.position[n],t.position[n]))return!1;return!0}var Wp=(0,Q.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;G(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function Hp(e,t,n,r,i,a,o,u){return new Wp(e,t,n,r,i,a,o,u)}function Kp(e){return new Wp(e)}function Gp(e){return!ip(e.limit)&&"F"===e.limitType}function Qp(e){return!ip(e.limit)&&"L"===e.limitType}function Yp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $p(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Jp(e){return null!==e.collectionGroup}function Xp(e){var t=xd(e);if(null===t.S){t.S=[];var n=$p(t),r=Yp(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new jp(n)),t.S.push(new jp(Gd.keyField(),"asc"));else{var i,a=!1,o=$(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new jp(Gd.keyField(),s))}}}return t.S}function ev(e){var t=xd(e);if(!t.D)if("F"===t.limitType)t.D=Sp(t.path,t.collectionGroup,Xp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$(Xp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new jp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Up(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Up(t.startAt.position,!t.startAt.before):null;t.D=Sp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function tv(e,t,n){return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nv(e,t){return Cp(ev(e),ev(t))&&e.limitType===t.limitType}function rv(e){return"".concat(Tp(ev(e)),"|lt:").concat(e.limitType)}function iv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(dp(t.value));var t})).join(", "),"]")),ip(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Vp(e.startAt)),e.endAt&&(t+=", endAt: "+Vp(e.endAt)),"Target(".concat(t,")")}(ev(e)),"; limitType=").concat(e.limitType,")")}function av(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):up.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!zp(e.startAt,Xp(e),t))&&(!e.endAt||!zp(e.endAt,Xp(e),t))}(e,t)}function ov(e){return function(t,n){var r,i=!1,a=$(Xp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=uv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function uv(e,t,n){var r=e.field.isKeyField()?up.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fp(r,i):bd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bd()}}function sv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(t)?"-0":t}}function cv(e){return{integerValue:""+e}}function lv(e,t){return op(t)?cv(t):sv(e,t)}var fv=(0,Q.Z)((function e(){G(this,e),this._=void 0}));function hv(e,t,n){return e instanceof vv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mv?yv(e,t):e instanceof gv?kv(e,t):function(e,t){var n=pv(e,t),r=wv(n)+wv(e.N);return mp(n)&&mp(e.N)?cv(r):sv(e.k,r)}(e,t)}function dv(e,t,n){return e instanceof mv?yv(e,t):e instanceof gv?kv(e,t):n}function pv(e,t){return e instanceof bv?mp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var vv=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n)}(fv),mv=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).elements=e,r}return(0,Q.Z)(n)}(fv);function yv(e,t){var n,r=xv(t),i=$(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return cp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gv=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).elements=e,r}return(0,Q.Z)(n)}(fv);function kv(e,t){var n,r=xv(t),i=$(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!cp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bv=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).k=e,i.N=r,i}return(0,Q.Z)(n)}(fv);function wv(e){return Xd(e.integerValue||e.doubleValue)}function xv(e){return yp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _v=(0,Q.Z)((function e(t,n){G(this,e),this.field=t,this.transform=n}));var Ev=(0,Q.Z)((function e(t,n){G(this,e),this.version=t,this.transformResults=n})),Iv=function(){function e(t,n){G(this,e),this.updateTime=t,this.exists=n}return(0,Q.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tv=(0,Q.Z)((function e(){G(this,e)}));function Cv(e,t,n){e instanceof Ov?function(e,t,n){var r=e.value.clone(),i=Mv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dv?function(e,t,n){if(Sv(e.precondition,t)){var r=Mv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Av(e,t,n){e instanceof Ov?function(e,t,n){if(Sv(e.precondition,t)){var r=e.value.clone(),i=Fv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Pv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Dv?function(e,t,n){if(Sv(e.precondition,t)){var r=Fv(e.fieldTransforms,n,t),i=t.data;i.setAll(Lv(e)),i.setAll(r),t.convertToFoundDocument(Pv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Sv(e.precondition,t)&&t.convertToNoDocument(jd.min())}(e,t)}function Nv(e,t){var n,r=null,i=$(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=pv(a.transform,o||null);null!=u&&(null==r&&(r=xp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Rv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mv&&t instanceof mv||e instanceof gv&&t instanceof gv?Zd(e.elements,t.elements,cp):e instanceof bv&&t instanceof bv?cp(e.N,t.N):e instanceof vv&&t instanceof vv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Pv(e){return e.isFoundDocument()?e.version:jd.min()}var Ov=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return G(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,Q.Z)(n)}(Tv),Dv=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return G(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,Q.Z)(n)}(Tv);function Lv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Mv(e,t,n){var r=new Map;wd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,dv(o,u,n[i]))}return r}function Fv(e,t,n){var r,i=new Map,a=$(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,hv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Zv,Uv,Vv=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Q.Z)(n)}(Tv),jv=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Q.Z)(n)}(Tv),Bv=(0,Q.Z)((function e(t){G(this,e),this.count=t}));function zv(e){switch(e){default:return bd();case _d.CANCELLED:case _d.UNKNOWN:case _d.DEADLINE_EXCEEDED:case _d.RESOURCE_EXHAUSTED:case _d.INTERNAL:case _d.UNAVAILABLE:case _d.UNAUTHENTICATED:return!1;case _d.INVALID_ARGUMENT:case _d.NOT_FOUND:case _d.ALREADY_EXISTS:case _d.PERMISSION_DENIED:case _d.FAILED_PRECONDITION:case _d.ABORTED:case _d.OUT_OF_RANGE:case _d.UNIMPLEMENTED:case _d.DATA_LOSS:return!0}}function qv(e){if(void 0===e)return yd("GRPC error has no .code"),_d.UNKNOWN;switch(e){case Zv.OK:return _d.OK;case Zv.CANCELLED:return _d.CANCELLED;case Zv.UNKNOWN:return _d.UNKNOWN;case Zv.DEADLINE_EXCEEDED:return _d.DEADLINE_EXCEEDED;case Zv.RESOURCE_EXHAUSTED:return _d.RESOURCE_EXHAUSTED;case Zv.INTERNAL:return _d.INTERNAL;case Zv.UNAVAILABLE:return _d.UNAVAILABLE;case Zv.UNAUTHENTICATED:return _d.UNAUTHENTICATED;case Zv.INVALID_ARGUMENT:return _d.INVALID_ARGUMENT;case Zv.NOT_FOUND:return _d.NOT_FOUND;case Zv.ALREADY_EXISTS:return _d.ALREADY_EXISTS;case Zv.PERMISSION_DENIED:return _d.PERMISSION_DENIED;case Zv.FAILED_PRECONDITION:return _d.FAILED_PRECONDITION;case Zv.ABORTED:return _d.ABORTED;case Zv.OUT_OF_RANGE:return _d.OUT_OF_RANGE;case Zv.UNIMPLEMENTED:return _d.UNIMPLEMENTED;case Zv.DATA_LOSS:return _d.DATA_LOSS;default:return bd()}}(Uv=Zv||(Zv={}))[Uv.OK=0]="OK",Uv[Uv.CANCELLED=1]="CANCELLED",Uv[Uv.UNKNOWN=2]="UNKNOWN",Uv[Uv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uv[Uv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uv[Uv.NOT_FOUND=5]="NOT_FOUND",Uv[Uv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uv[Uv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uv[Uv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uv[Uv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uv[Uv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uv[Uv.ABORTED=10]="ABORTED",Uv[Uv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uv[Uv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uv[Uv.INTERNAL=13]="INTERNAL",Uv[Uv.UNAVAILABLE=14]="UNAVAILABLE",Uv[Uv.DATA_LOSS=15]="DATA_LOSS";var Wv=function(){function e(t,n){G(this,e),this.comparator=t,this.root=n||Kv.EMPTY}return(0,Q.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Hv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Hv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Hv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Hv(this.root,e,this.comparator,!0)}}]),e}(),Hv=function(){function e(t,n,r,i){G(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Q.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Kv=function(){function e(t,n,r,i,a){G(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Q.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bd();if(this.right.isRed())throw bd();var e=this.left.check();if(e!==this.right.check())throw bd();return e+(this.isRed()?0:1)}}]),e}();Kv.EMPTY=null,Kv.RED=!0,Kv.BLACK=!1,Kv.EMPTY=new(function(){function e(){G(this,e),this.size=0}return(0,Q.Z)(e,[{key:"key",get:function(){throw bd()}},{key:"value",get:function(){throw bd()}},{key:"color",get:function(){throw bd()}},{key:"left",get:function(){throw bd()}},{key:"right",get:function(){throw bd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Kv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gv=function(){function e(t){G(this,e),this.comparator=t,this.data=new Wv(this.comparator)}return(0,Q.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Qv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Qv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Qv=function(){function e(t){G(this,e),this.iter=t}return(0,Q.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Yv=new Wv(up.comparator);function $v(){return Yv}var Jv=new Wv(up.comparator);function Xv(){return Jv}var em=new Wv(up.comparator);function tm(){return em}var nm=new Gv(up.comparator);function rm(){for(var e=nm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var im=new Gv(Fd);function am(){return im}var om=function(){function e(t,n,r,i,a){G(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,Q.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,um.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(jd.min(),r,am(),$v(),rm())}}]),e}(),um=function(){function e(t,n,r,i,a){G(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,Q.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Yd.EMPTY_BYTE_STRING,n,rm(),rm(),rm())}}]),e}(),sm=(0,Q.Z)((function e(t,n,r,i){G(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),cm=(0,Q.Z)((function e(t,n){G(this,e),this.targetId=t,this.O=n})),lm=(0,Q.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;G(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fm=function(){function e(){G(this,e),this.M=0,this.L=pm(),this.B=Yd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return(0,Q.Z)(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=rm(),t=rm(),n=rm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bd()}})),new um(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=pm()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),hm=function(){function e(t){G(this,e),this.et=t,this.nt=new Map,this.st=$v(),this.it=dm(),this.rt=new Gv(Fd)}return(0,Q.Z)(e,[{key:"ot",value:function(e){var t,n=$(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=$(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:bd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Ap(i))if(0===n){var a=new up(i.path);this.ct(t,a,Ep.newNoDocument(a,jd.min()))}else wd(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ap(a.target)){var o=new up(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Ep.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=rm();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new om(e,n,this.rt,this.st,r);return this.st=$v(),this.it=dm(),this.rt=new Gv(Fd),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new fm,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Gv(Fd),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||md("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new fm),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function dm(){return new Wv(up.comparator)}function pm(){return new Wv(up.comparator)}var vm={asc:"ASCENDING",desc:"DESCENDING"},mm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ym=(0,Q.Z)((function e(t,n){G(this,e),this.databaseId=t,this.C=n}));function gm(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function km(e,t){return e.C?t.toBase64():t.toUint8Array()}function bm(e,t){return gm(e,t.toTimestamp())}function wm(e){return wd(!!e),jd.fromTimestamp(function(e){var t=Jd(e);return new Vd(t.seconds,t.nanos)}(e))}function xm(e,t){return function(e){return new Hd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _m(e){var t=Hd.fromString(e);return wd(Gm(t)),t}function Em(e,t){return xm(e.databaseId,t.path)}function Im(e,t){var n=_m(t);if(n.get(1)!==e.databaseId.projectId)throw new Ed(_d.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ed(_d.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new up(Am(n))}function Sm(e,t){return xm(e.databaseId,t)}function Tm(e){var t=_m(e);return 4===t.length?Hd.emptyPath():Am(t)}function Cm(e){return new Hd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Am(e){return wd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nm(e,t,n){return{name:Em(e,t),fields:n.value.mapValue.fields}}function Rm(e,t,n){var r=Im(e,t.name),i=wm(t.updateTime),a=new xp({mapValue:{fields:t.fields}}),o=Ep.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pm(e,t){return"found"in t?function(e,t){wd(!!t.found),t.found.name,t.found.updateTime;var n=Im(e,t.found.name),r=wm(t.found.updateTime),i=new xp({mapValue:{fields:t.found.fields}});return Ep.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){wd(!!t.missing),wd(!!t.readTime);var n=Im(e,t.missing),r=wm(t.readTime);return Ep.newNoDocument(n,r)}(e,t):bd()}function Om(e,t){var n;if(t instanceof Ov)n={update:Nm(e,t.key,t.value)};else if(t instanceof Vv)n={delete:Em(e,t.key)};else if(t instanceof Dv)n={update:Nm(e,t.key,t.data),updateMask:Km(t.fieldMask)};else{if(!(t instanceof jv))return bd();n={verify:Em(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof vv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bv)return{fieldPath:t.field.canonicalString(),increment:n.N};throw bd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bd()}(e,t.precondition)),n}function Dm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Iv.updateTime(wm(e.updateTime)):void 0!==e.exists?Iv.exists(e.exists):Iv.none()}(t.currentDocument):Iv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wd("REQUEST_TIME"===t.setToServerValue),n=new vv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new gv(i)}else"increment"in t?n=new bv(e,t.increment):bd();var a=Gd.fromServerFormat(t.fieldPath);return new _v(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Im(e,t.update.name),a=new xp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qd(t.map((function(e){return Gd.fromServerFormat(e)})))}(t.updateMask);return new Dv(i,a,o,n,r)}return new Ov(i,a,n,r)}if(t.delete){var u=Im(e,t.delete);return new Vv(u,n)}if(t.verify){var s=Im(e,t.verify);return new jv(s,n)}return bd()}function Lm(e,t){return{documents:[Sm(e,t.path)]}}function Mm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(kp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NAN"}};if(gp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NAN"}};if(gp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(e.field),op:Bm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zm(e.field),direction:jm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||ip(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Um(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Um(t.endAt)),n}function Fm(e){var t=Tm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Zm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new jp(qm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ip(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Vm(n.startAt));var l=null;return n.endAt&&(l=Vm(n.endAt)),Hp(t,i,u,o,s,"F",c,l)}function Zm(e){return e?void 0!==e.unaryFilter?[Hm(e)]:void 0!==e.fieldFilter?[Wm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Zm(e)})).reduce((function(e,t){return e.concat(t)})):bd():[]}function Um(e){return{before:e.before,values:e.position}}function Vm(e){var t=!!e.before,n=e.values||[];return new Up(n,t)}function jm(e){return vm[e]}function Bm(e){return mm[e]}function zm(e){return{fieldPath:e.canonicalString()}}function qm(e){return Gd.fromServerFormat(e.fieldPath)}function Wm(e){return Np.create(qm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Hm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=qm(e.unaryFilter.field);return Np.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=qm(e.unaryFilter.field);return Np.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qm(e.unaryFilter.field);return Np.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qm(e.unaryFilter.field);return Np.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bd()}}function Km(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Gm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$m(t)),t=Ym(e.get(n),t);return $m(t)}function Ym(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $m(e){return e+"\x01\x01"}function Jm(e){var t=e.length;if(wd(t>=2),2===t)return wd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bd()}a=o+2}return new Hd(r)}var Xm=(0,Q.Z)((function e(t,n){G(this,e),this.seconds=t,this.nanoseconds=n})),ey=(0,Q.Z)((function e(t,n,r){G(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ey.store="owner",ey.key="owner";var ty=(0,Q.Z)((function e(t,n,r){G(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));ty.store="mutationQueues",ty.keyPath="userId";var ny=(0,Q.Z)((function e(t,n,r,i,a){G(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));ny.store="mutations",ny.keyPath="batchId",ny.userMutationsIndex="userMutationsIndex",ny.userMutationsKeyPath=["userId","batchId"];var ry=function(){function e(){G(this,e)}return(0,Q.Z)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Qm(t)]}},{key:"key",value:function(e,t,n){return[e,Qm(t),n]}}]),e}();ry.store="documentMutations",ry.PLACEHOLDER=new ry;var iy=(0,Q.Z)((function e(t,n){G(this,e),this.path=t,this.readTime=n})),ay=(0,Q.Z)((function e(t,n){G(this,e),this.path=t,this.version=n})),oy=(0,Q.Z)((function e(t,n,r,i,a,o){G(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));oy.store="remoteDocuments",oy.readTimeIndex="readTimeIndex",oy.readTimeIndexPath="readTime",oy.collectionReadTimeIndex="collectionReadTimeIndex",oy.collectionReadTimeIndexPath=["parentPath","readTime"];var uy=(0,Q.Z)((function e(t){G(this,e),this.byteSize=t}));uy.store="remoteDocumentGlobal",uy.key="remoteDocumentGlobalKey";var sy=(0,Q.Z)((function e(t,n,r,i,a,o,u){G(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));sy.store="targets",sy.keyPath="targetId",sy.queryTargetsIndexName="queryTargetsIndex",sy.queryTargetsKeyPath=["canonicalId","targetId"];var cy=(0,Q.Z)((function e(t,n,r){G(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));cy.store="targetDocuments",cy.keyPath=["targetId","path"],cy.documentTargetsIndex="documentTargetsIndex",cy.documentTargetsKeyPath=["path","targetId"];var ly=(0,Q.Z)((function e(t,n,r,i){G(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));ly.key="targetGlobalKey",ly.store="targetGlobal";var fy=(0,Q.Z)((function e(t,n){G(this,e),this.collectionId=t,this.parent=n}));fy.store="collectionParents",fy.keyPath=["collectionId","parent"];var hy=(0,Q.Z)((function e(t,n,r,i){G(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));hy.store="clientMetadata",hy.keyPath="clientId";var dy=(0,Q.Z)((function e(t,n,r){G(this,e),this.bundleId=t,this.createTime=n,this.version=r}));dy.store="bundles",dy.keyPath="bundleId";var py=(0,Q.Z)((function e(t,n,r){G(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));py.store="namedQueries",py.keyPath="name";var vy=[ty.store,ny.store,ry.store,oy.store,sy.store,ey.store,ly.store,cy.store].concat([hy.store]).concat([uy.store]).concat([fy.store]).concat([dy.store,py.store]),my="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yy=function(){function e(){G(this,e),this.onCommittedListeners=[]}return(0,Q.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),gy=function(){function e(t){var n=this;G(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Q.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ky=function(){function e(t,n){var r=this;G(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Id,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new xy(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Ty(e.target.error);r.It.reject(new xy(t,n))}}return(0,Q.Z)(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(md("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ey(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xy(n,t)}}}]),e}(),by=function(){function e(t,n,r){G(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(ve())&&yd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Q.Z)(e,[{key:"Ct",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return md("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new xy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ed(_d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ed(_d.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new xy(t,n))},i.onupgradeneeded=function(e){md("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){md("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ue().mark((function e(){var n,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=ky.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),gy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,md("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return md("SimpleDb","Removing database:",e),Iy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!we())return!1;if(e.vt())return!0;var t=ve(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/chatapp-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),wy=function(){function e(t){G(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return(0,Q.Z)(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Iy(this.$t.delete())}}]),e}(),xy=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,_d.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Q.Z)(n)}(Ed);function _y(e){return"IndexedDbTransactionError"===e.name}var Ey=function(){function e(t){G(this,e),this.store=t}return(0,Q.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(md("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(md("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Iy(n)}},{key:"add",value:function(e){return md("SimpleDb","ADD",this.store.name,e,e),Iy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Iy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),md("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return md("SimpleDb","DELETE",this.store.name,e),Iy(this.store.delete(e))}},{key:"count",value:function(){return md("SimpleDb","COUNT",this.store.name),Iy(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){md("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new gy((function(n,r){t.onerror=function(e){var t=Ty(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new gy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new wy(i),o=t(i.primaryKey,i.value,a);if(o instanceof gy){var u=o.catch((function(e){return a.done(),gy.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return gy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Iy(e){return new gy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ty(e.target.error);n(t)}}))}var Sy=!1;function Ty(e){var t=by.Pt(ve());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ed("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Sy||(Sy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Cy=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return(0,Q.Z)(n)}(yy);function Ay(e,t){var n=xd(e);return by.Dt(n.Wt,t)}var Ny=function(){function e(t,n,r,i){G(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Q.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Cv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=$(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Av(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=$(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Av(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(jd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zd(this.mutations,e.mutations,(function(e,t){return Rv(e,t)}))&&Zd(this.baseMutations,e.baseMutations,(function(e,t){return Rv(e,t)}))}}]),e}(),Ry=function(){function e(t,n,r,i){G(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Q.Z)(e,null,[{key:"from",value:function(t,n,r){wd(t.mutations.length===r.length);for(var i=tm(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Py=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jd.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yd.EMPTY_BYTE_STRING;G(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,Q.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Oy=(0,Q.Z)((function e(t){G(this,e),this.Gt=t}));function Dy(e,t){if(t.document)return Rm(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=up.fromSegments(t.noDocument.path),r=Uy(t.noDocument.readTime),i=Ep.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=up.fromSegments(t.unknownDocument.path),o=Uy(t.unknownDocument.version);return Ep.newUnknownDocument(a,o)}return bd()}function Ly(e,t,n){var r=My(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Em(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gm(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new oy(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Zy(t.version),c=t.hasCommittedMutations;return new oy(null,new iy(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Zy(t.version);return new oy(new ay(l,f),null,null,!0,r,i)}return bd()}function My(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fy(e){var t=new Vd(e[0],e[1]);return jd.fromTimestamp(t)}function Zy(e){var t=e.toTimestamp();return new Xm(t.seconds,t.nanoseconds)}function Uy(e){var t=new Vd(e.seconds,e.nanoseconds);return jd.fromTimestamp(t)}function Vy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Dm(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Dm(e.Gt,t)})),u=Vd.fromMillis(t.localWriteTimeMs);return new Ny(t.batchId,u,n,o)}function jy(e){var t,n,r=Uy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Uy(e.lastLimboFreeSnapshotVersion):jd.min();return void 0!==e.query.documents?(wd(1===(n=e.query).documents.length),t=ev(Kp(Tm(n.documents[0])))):t=function(e){return ev(Fm(e))}(e.query),new Py(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Yd.fromBase64String(e.resumeToken))}function By(e,t){var n,r=Zy(t.snapshotVersion),i=Zy(t.lastLimboFreeSnapshotVersion);n=Ap(t.target)?Lm(e.Gt,t.target):Mm(e.Gt,t.target);var a=t.resumeToken.toBase64();return new sy(t.targetId,Tp(t.target),r,a,t.sequenceNumber,i,n)}function zy(e){var t=Fm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tv(t,t.limit,"L"):t}var qy=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Wy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Uy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Wy(e).put({bundleId:(n=t).id,createTime:Zy(wm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Hy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:zy(t.bundledQuery),readTime:Uy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Hy(e).put(function(e){return{name:e.name,readTime:Zy(wm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Wy(e){return Ay(e,dy.store)}function Hy(e){return Ay(e,py.store)}var Ky=function(){function e(){G(this,e),this.zt=new Gy}return(0,Q.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),gy.resolve()}},{key:"getCollectionParents",value:function(e,t){return gy.resolve(this.zt.getEntries(t))}}]),e}(),Gy=function(){function e(){G(this,e),this.index={}}return(0,Q.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gv(Hd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gv(Hd.comparator)).toArray()}}]),e}(),Qy=function(){function e(){G(this,e),this.Ht=new Gy}return(0,Q.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Qm(i)};return Yy(e).put(a)}return gy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ud(t),""],!1,!0);return Yy(e).Bt(r).next((function(e){var r,i=$(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Jm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Yy(e){return Ay(e,fy.store)}var $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jy=function(){function e(t,n,r){G(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Q.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Xy(e,t,n){var r=e.store(ny.store),i=e.store(ry.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){wd(1===u)})));var c,l=[],f=$(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ry.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return gy.waitFor(a).next((function(){return l}))}function eg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bd();t=e.noDocument}return JSON.stringify(t).length}Jy.DEFAULT_COLLECTION_PERCENTILE=10,Jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jy.DEFAULT=new Jy(41943040,Jy.DEFAULT_COLLECTION_PERCENTILE,Jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jy.DISABLED=new Jy(-1,0,0);var tg=function(){function e(t,n,r,i){G(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return(0,Q.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rg(e).jt({index:ny.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ig(e),o=rg(e);return o.add({}).next((function(u){wd("number"==typeof u);var s,c=new Ny(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Om(e.Gt,t)})),i=n.mutations.map((function(t){return Om(e.Gt,t)}));return new ny(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Gv((function(e,t){return Fd(e.canonicalString(),t.canonicalString())})),d=$(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ry.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ry.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),gy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return rg(e).get(t).next((function(e){return e?(wd(e.userId===n.userId),Vy(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?gy.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return rg(e).jt({index:ny.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(wd(t.batchId>=r),a=Vy(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rg(e).jt({index:ny.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rg(e).Bt(ny.userMutationsIndex,n).next((function(e){return e.map((function(e){return Vy(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ry.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ig(e).jt({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Jm(l);if(c===n.userId&&t.path.isEqual(h))return rg(e).get(f).next((function(e){if(!e)throw bd();wd(e.userId===n.userId),o.push(Vy(n.k,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gv(Fd),i=[];return t.forEach((function(t){var o=ry.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=ig(e).jt({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Jm(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),gy.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=ry.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Gv(Fd);return ig(e).jt({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Jm(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(rg(e).get(t).next((function(e){if(null===e)throw bd();wd(e.userId===n.userId),r.push(Vy(n.k,e))})))})),gy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Xy(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),gy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gy.resolve();var r=IDBKeyRange.lowerBound(ry.prefixForUser(t.userId)),i=[];return ig(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Jm(e[1]);i.push(a)}else r.done()})).next((function(){wd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ng(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return ag(e).get(this.userId).next((function(e){return e||new ty(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return wd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ng(e,t,n){var r=ry.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return ig(e).jt({range:o,Kt:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function rg(e){return Ay(e,ny.store)}function ig(e){return Ay(e,ry.store)}function ag(e){return Ay(e,ty.store)}var og=function(){function e(t){G(this,e),this.se=t}return(0,Q.Z)(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),ug=function(){function e(t,n){G(this,e),this.referenceDelegate=t,this.k=n}return(0,Q.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new og(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return jd.fromTimestamp(new Vd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sg(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return wd(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sg(e).jt((function(o,u){var s=jy(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return gy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sg(e).jt((function(e,n){var r=jy(n);t(r)}))}},{key:"oe",value:function(e){return cg(e).get(ly.key).next((function(e){return wd(null!==e),e}))}},{key:"ae",value:function(e,t){return cg(e).put(ly.key,t)}},{key:"ce",value:function(e,t){return sg(e).put(By(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Tp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sg(e).jt({range:r,index:sy.queryTargetsIndexName},(function(e,n,r){var a=jy(n);Cp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=lg(e);return t.forEach((function(t){var o=Qm(t.path);i.push(a.put(new cy(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),gy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=lg(e);return gy.forEach(t,(function(t){var a=Qm(t.path);return gy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=lg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lg(e),i=rm();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Jm(e[1]),a=new up(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qm(t.path),r=IDBKeyRange.bound([n],[Ud(n)],!1,!0),i=0;return lg(e).jt({index:cy.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return sg(e).get(t).next((function(e){return e?jy(e):null}))}}]),e}();function sg(e){return Ay(e,sy.store)}function cg(e){return Ay(e,ly.store)}function lg(e){return Ay(e,cy.store)}function fg(e){return hg.apply(this,arguments)}function hg(){return hg=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_d.FAILED_PRECONDITION&&t.message===my){e.next=2;break}throw t;case 2:md("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=Fd(r,u);return 0===c?Fd(i,s):c}var pg=function(){function e(t){G(this,e),this.he=t,this.buffer=new Gv(dg),this.le=0}return(0,Q.Z)(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();dg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),vg=function(){function e(t,n){G(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return(0,Q.Z)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;md("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!_y(n.t0)){n.next=12;break}md("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,fg(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),mg=function(){function e(t,n){G(this,e),this.ge=t,this.params=n}return(0,Q.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return gy.resolve(Dd.I);var r=new pg(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(md("LruGarbageCollector","Garbage collection skipped; disabled"),gy.resolve($y)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(md("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),$y):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(md("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),vd()<=qe.DEBUG&&md("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),gy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),yg=function(){function e(t,n){G(this,e),this.db=t,this.garbageCollector=function(e,t){return new mg(e,t)}(this,n)}return(0,Q.Z)(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return gg(e,n)}},{key:"removeReference",value:function(e,t,n){return gg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return gg(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return ag(e).Qt((function(r){return ng(e,r,t).next((function(e){return e&&(n=!0),gy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),lg(e).delete([0,Qm(o.path)])}))}));i.push(s)}})).next((function(){return gy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return gg(e,t)}},{key:"Ie",value:function(e,t){var n,r=lg(e),i=Dd.I;return r.jt({index:cy.documentTargetsIndex},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Dd.I&&t(new up(Jm(n)),i),i=c,n=s):i=Dd.I})).next((function(){i!==Dd.I&&t(new up(Jm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function gg(e,t){return lg(e).put(function(e,t){return new cy(0,Qm(e.path),t)}(t,e.currentSequenceNumber))}var kg=function(){function e(t,n){G(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return(0,Q.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){zd(this.inner,(function(t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qd(this.inner)}}]),e}(),bg=function(){function e(){G(this,e),this.changes=new kg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Q.Z)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:jd.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Ep.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gy.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wg=function(){function e(t,n){G(this,e),this.k=t,this.Jt=n}return(0,Q.Z)(e,[{key:"addEntry",value:function(e,t,n){return Eg(e).put(Ig(t),n)}},{key:"removeEntry",value:function(e,t){var n=Eg(e),r=Ig(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Eg(e).get(Ig(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Eg(e).get(Ig(t)).next((function(e){return{document:n.Pe(t,e),size:eg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=$v(),i=new Wv(up.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,eg(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return gy.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Eg(e).jt({range:r},(function(e,t,r){for(var o=up.fromSegments(e);a&&up.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=$v(),a=t.path.length+1,o={};if(n.isEqual(jd.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=My(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=oy.collectionReadTimeIndex}return Eg(e).jt(o,(function(e,n,o){if(e.length===a){var u=Dy(r.k,n);t.path.isPrefixOf(u.key.path)?av(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new xg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return _g(e).get(uy.key).next((function(e){return wd(!!e),e}))}},{key:"Re",value:function(e,t){return _g(e).put(uy.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Dy(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(jd.min()))return n}return Ep.newInvalidDocument(e)}}]),e}(),xg=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new kg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,Q.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gv((function(e,t){return Fd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=Ly(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=eg(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Ly(t.De.k,Ep.newNoDocument(a,jd.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),gy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(bg);function _g(e){return Ay(e,uy.store)}function Eg(e){return Ay(e,oy.store)}function Ig(e){return e.path.toArray()}var Sg=function(){function e(t){G(this,e),this.k=t}return(0,Q.Z)(e,[{key:"Nt",value:function(e,t,n,r){var i=this;wd(n<r&&n>=0&&r<=11);var a=new ky("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ey.store)}(e),function(e){e.createObjectStore(ty.store,{keyPath:ty.keyPath}),e.createObjectStore(ny.store,{keyPath:ny.keyPath,autoIncrement:!0}).createIndex(ny.userMutationsIndex,ny.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ry.store)}(e),Tg(e),function(e){e.createObjectStore(oy.store)}(e));var o=gy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(cy.store),e.deleteObjectStore(sy.store),e.deleteObjectStore(ly.store)}(e),Tg(e)),o=o.next((function(){return function(e){var t=e.store(ly.store),n=new ly(0,0,jd.min().toTimestamp(),0);return t.put(ly.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(ny.store).Bt().next((function(n){e.deleteObjectStore(ny.store),e.createObjectStore(ny.store,{keyPath:ny.keyPath,autoIncrement:!0}).createIndex(ny.userMutationsIndex,ny.userMutationsKeyPath,{unique:!0});var r=t.store(ny.store),i=n.map((function(e){return r.put(e)}));return gy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(hy.store,{keyPath:hy.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(uy.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(oy.store);t.createIndex(oy.readTimeIndex,oy.readTimeIndexPath,{unique:!1}),t.createIndex(oy.collectionReadTimeIndex,oy.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(dy.store,{keyPath:dy.keyPath})}(e),function(e){e.createObjectStore(py.store,{keyPath:py.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(oy.store).jt((function(e,n){t+=eg(n)})).next((function(){var n=new uy(t);return e.store(uy.store).put(uy.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(ty.store),r=e.store(ny.store);return n.Bt().next((function(n){return gy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(ny.userMutationsIndex,i).next((function(r){return gy.forEach(r,(function(r){wd(r.userId===n.userId);var i=Vy(t.k,r);return Xy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(cy.store),n=e.store(oy.store);return e.store(ly.store).get(ly.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Hd(n),o=function(e){return[0,Qm(e)]}(a);r.push(t.get(o).next((function(n){return n?gy.resolve():function(n){return t.put(new cy(0,Qm(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return gy.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(fy.store,{keyPath:fy.keyPath});var n=t.store(fy.store),r=new Gy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qm(i)})}};return t.store(oy.store).jt({Kt:!0},(function(e,t){var n=new Hd(e);return i(n.popLast())})).next((function(){return t.store(ry.store).jt({Kt:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],Jm(r));return i(o.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(sy.store);return n.jt((function(e,r){var i=jy(r),a=By(t.k,i);return n.put(a)}))}}]),e}();function Tg(e){e.createObjectStore(cy.store,{keyPath:cy.keyPath}).createIndex(cy.documentTargetsIndex,cy.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(sy.store,{keyPath:sy.keyPath}).createIndex(sy.queryTargetsIndexName,sy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ly.store)}var Cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ag=function(){function e(t,n,r,i,a,o,u,s,c,l){if(G(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Ed(_d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yg(this,i),this.Ge=n+"main",this.k=new Oy(s),this.ze=new by(this.Ge,11,new Sg(this.k)),this.He=new ug(this.referenceDelegate,this.k),this.Jt=new Qy,this.Je=function(e,t){return new wg(e,t)}(this.k,this.Jt),this.Ye=new qy,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&yd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,Q.Z)(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ed(_d.FAILED_PRECONDITION,Cg);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Dd(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Fe(Ue().mark((function n(r){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Rg(t).put(new hy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(_y(t))return md("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return md("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Ng(e).get(ey.key).next((function(e){return gy.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Rg(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ay(e,hy.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=$(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?gy.resolve(!0):Ng(e).get(ey.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Ed(_d.FAILED_PRECONDITION,Cg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Rg(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&md("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[ey.store,hy.store],(function(e){var n=new Cy(e,Dd.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Rg(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return tg.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;md("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,vy,(function(a){return i=new Cy(a,r.Be?r.Be.next():Dd.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw yd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Ed(_d.FAILED_PRECONDITION,my);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Ng(e).get(ey.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ed(_d.FAILED_PRECONDITION,Cg)}))}},{key:"cn",value:function(e){var t=new ey(this.clientId,this.allowTabSynchronization,Date.now());return Ng(e).put(ey.key,t)}},{key:"an",value:function(e){var t=this,n=Ng(e);return n.get(ey.key).next((function(e){return t.un(e)?(md("IndexedDbPersistence","Releasing primary lease."),n.delete(ey.key)):gy.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(yd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return md("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return yd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(fc){yd("Failed to set zombie client id.",fc)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(fc){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return by.bt()}}]),e}();function Ng(e){return Ay(e,ey.store)}function Rg(e){return Ay(e,hy.store)}function Pg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Og=(0,Q.Z)((function e(t,n){G(this,e),this.progress=t,this.In=n})),Dg=function(){function e(t,n,r){G(this,e),this.Je=t,this.An=n,this.Jt=r}return(0,Q.Z)(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=$(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=$(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Jp(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new up(t)).next((function(e){var t=Xv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xv();return this.Jt.getCollectionParents(e,i).next((function(o){return gy.forEach(o,(function(o){var u=function(e,t){return new Wp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=$(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=$(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Ep.newInvalidDocument(c),r=r.insert(c,l)),Av(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){av(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=rm(),a=$(t);try{for(a.s();!(r=a.n()).done;){var o,u=$(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Dv&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Lg=function(){function e(t,n,r,i){G(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return(0,Q.Z)(e,null,[{key:"$n",value:function(t,n){var r,i=rm(),a=rm(),o=$(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Mg=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(jd.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Gp(t)||Qp(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(vd()<=qe.DEBUG&&md("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iv(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Gv(ov(e));return t.forEach((function(t,r){av(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return vd()<=qe.DEBUG&&md("QueryEngine","Using full collection scan to execute query:",iv(t)),this.On.getDocumentsMatchingQuery(e,t,jd.min())}}]),e}(),Fg=function(){function e(t,n,r,i){G(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Wv(Fd),this.Kn=new kg((function(e){return Tp(e)}),Cp),this.jn=jd.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Dg(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return(0,Q.Z)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Zg(e,t,n,r){return new Fg(e,t,n,r)}function Ug(e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Dg(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=rm(),s=$(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=$(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=$(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function jg(e,t){var n=xd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=gy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Bg(e){var t=xd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function zg(e,t){var n=xd(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return wd(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=$v();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qg(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(jd.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return gy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function qg(e,t,n,r,i){var a=rm();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=$v();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(jd.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):md("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function Wg(e,t){var n=xd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Hg(e,t){var n=xd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,gy.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Py(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Kg(e,t,n){return Gg.apply(this,arguments)}function Gg(){return Gg=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xd(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_y(e.t1)){e.next=12;break}throw e.t1;case 12:md("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Gg.apply(this,arguments)}function Qg(e,t,n){var r=xd(e),i=jd.min(),a=rm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xd(e),i=r.Kn.get(n);return void 0!==i?gy.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,ev(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:jd.min(),n?a:rm())})).next((function(e){return{documents:e,zn:a}}))}))}function Yg(e,t){var n=xd(e),r=xd(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function $g(e){var t=xd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=xd(e),i=$v(),a=My(n),o=Eg(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:oy.readTimeIndex,range:u},(function(e,t){var n=Dy(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Fy(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Jg(e){return Xg.apply(this,arguments)}function Xg(){return Xg=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xd(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Eg(e),n=jd.min();return t.jt({index:oy.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Fy(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function ek(e,t,n,r){return tk.apply(this,arguments)}function tk(){return tk=Fe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xd(t),o=rm(),u=$v(),s=tm(),c=$(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Hg(a,function(e){return ev(Kp(Hd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qg(e,d,u,jd.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=Fe(Ue().mark((function e(t,n){var r,i,a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rm(),e.next=3,Hg(t,ev(zy(n.bundledQuery)));case 3:return i=e.sent,a=xd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=wm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Yd.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}var ik=function(){function e(t){G(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return(0,Q.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return gy.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:wm(n.createTime)}),gy.resolve()}},{key:"getNamedQuery",value:function(e,t){return gy.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:zy(e.bundledQuery),readTime:wm(e.readTime)}}(t)),gy.resolve()}}]),e}(),ak=function(){function e(){G(this,e),this.ts=new Gv(ok.es),this.ns=new Gv(ok.ss)}return(0,Q.Z)(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ok(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new ok(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new up(new Hd([])),r=new ok(n,e),i=new ok(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new up(new Hd([])),n=new ok(t,e),r=new ok(t,e+1),i=rm();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ok(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ok=function(){function e(t,n){G(this,e),this.key=t,this.fs=n}return(0,Q.Z)(e,null,[{key:"es",value:function(e,t){return up.comparator(e.key,t.key)||Fd(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Fd(e.fs,t.fs)||up.comparator(e.key,t.key)}}]),e}(),uk=function(){function e(t,n){G(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Gv(ok.es)}return(0,Q.Z)(e,[{key:"checkEmpty",value:function(e){return gy.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Ny(i,t,n,r);this.An.push(a);var o,u=$(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new ok(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return gy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return gy.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return gy.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return gy.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return gy.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ok(t,0),i=new ok(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),gy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gv(Fd);return t.forEach((function(e){var t=new ok(e,0),i=new ok(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),gy.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;up.isDocumentKey(i)||(i=i.child(""));var a=new ok(new up(i),0),o=new Gv(Fd);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),gy.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wd(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return gy.forEach(t.mutations,(function(i){var a=new ok(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ok(t,0),r=this.ws.firstAfterOrEqual(n);return gy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,gy.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),sk=function(){function e(t,n){G(this,e),this.Jt=t,this.Ts=n,this.docs=new Wv(up.comparator),this.size=0}return(0,Q.Z)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return gy.resolve(n?n.document.clone():Ep.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ep.newInvalidDocument(e))})),gy.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=$v(),i=new up(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||av(t,c)&&(r=r.insert(c.key,c.clone()))}return gy.resolve(r)}},{key:"Es",value:function(e,t){return gy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ck(this)}},{key:"getSize",value:function(e){return gy.resolve(this.size)}}]),e}(),ck=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).De=e,r}return(0,Q.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),gy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(bg),lk=function(){function e(t){G(this,e),this.persistence=t,this.Is=new kg((function(e){return Tp(e)}),Cp),this.lastRemoteSnapshotVersion=jd.min(),this.highestTargetId=0,this.As=0,this.Rs=new ak,this.targetCount=0,this.Ps=og.ie()}return(0,Q.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),gy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return gy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return gy.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),gy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),gy.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new og(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,gy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),gy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,gy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),gy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return gy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return gy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),gy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),gy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return gy.resolve(n)}},{key:"containsKey",value:function(e,t){return gy.resolve(this.Rs.containsKey(t))}}]),e}(),fk=function(){function e(t,n){var r=this;G(this,e),this.bs={},this.Be=new Dd(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new lk(this),this.Jt=new Ky,this.Je=function(e,t){return new sk(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Oy(n),this.Ye=new ik(this.k)}return(0,Q.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new uk(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;md("MemoryPersistence","Starting transaction:",e);var i=new hk(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return gy.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),hk=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Q.Z)(n)}(yy),dk=function(){function e(t){G(this,e),this.persistence=t,this.Cs=new ak,this.Ns=null}return(0,Q.Z)(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw bd()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),gy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),gy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),gy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gy.forEach(this.xs,(function(r){var i=up.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return gy.or([function(){return gy.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function pk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yk=function(){function e(t,n,r,i){G(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,Q.Z)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ed(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(yd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gk=function(){function e(t,n,r){G(this,e),this.targetId=t,this.state=n,this.error=r}return(0,Q.Z)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ed(i.error.code,i.error.message))),a?new e(t,i.state,r):(yd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kk=function(){function e(t,n){G(this,e),this.clientId=t,this.activeTargetIds=n}return(0,Q.Z)(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=am(),o=0;i&&o<r.activeTargetIds.length;++o)i=op(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(yd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),bk=function(){function e(t,n){G(this,e),this.clientId=t,this.onlineState=n}return(0,Q.Z)(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(yd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),wk=function(){function e(){G(this,e),this.activeTargetIds=am()}return(0,Q.Z)(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xk=function(){function e(t,n,r,i,a){G(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Wv(Fd),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=pk(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new wk),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return(0,Q.Z)(e,[{key:"start",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=$(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(pk(this.persistenceKey,i)))&&(o=kk.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=$(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mk(this.persistenceKey,e));if(n){var r=gk.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(mk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return md("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){md("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){md("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(md("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void yd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Fe(Ue().mark((function e(){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Dd.I;if(null!=e)try{var n=JSON.parse(e);wd("number"==typeof n),t=n}catch(e){yd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Dd.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new yk(this.currentUser,e,t,n),i=vk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=vk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=mk(this.persistenceKey,e),i=new gk(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return kk.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yk.Fs(new hd(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return gk.Fs(r,t)}},{key:"Zs",value:function(e){return bk.Fs(e)}},{key:"fi",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:md("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=am();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_k=function(){function e(){G(this,e),this.pi=new wk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Q.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new wk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ek=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ik=function(){function e(){var t=this;G(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return(0,Q.Z)(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){md("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){md("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Sk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tk=function(){function e(t){G(this,e),this.Vi=t.Vi,this.Si=t.Si}return(0,Q.Z)(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Ck=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,Q.Z)(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ld;o.listenOnce(ad.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case id.NO_ERROR:var t=o.getResponseJson();md("Connection","XHR received:",JSON.stringify(t)),i(t);break;case id.TIMEOUT:md("Connection",'RPC "'+e+'" timed out'),a(new Ed(_d.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:var n=o.getStatus();if(md("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_d).indexOf(t)>=0?t:_d.UNKNOWN}(r.status);a(new Ed(u,r.message))}else a(new Ed(_d.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ed(_d.UNAVAILABLE,"Connection failed."));break;default:bd()}}finally{md("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=nd(),a=rd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new sd({})),this.qi(o.initMessageHeaders,t,n),me()||ke()||ve().indexOf("Electron/")>=0||be()||ve().indexOf("MSAppHost/")>=0||ge()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");md("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Tk({Vi:function(e){l?md("Connection","Not sending because WebChannel is closed:",e):(c||(md("Connection","Opening WebChannel transport."),s.open(),c=!0),md("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,cd.EventType.OPEN,(function(){l||md("Connection","WebChannel transport opened.")})),h(s,cd.EventType.CLOSE,(function(){l||(l=!0,md("Connection","WebChannel transport closed"),f.Fi())})),h(s,cd.EventType.ERROR,(function(e){l||(l=!0,gd("Connection","WebChannel transport errored:",e),f.Fi(new Ed(_d.UNAVAILABLE,"The operation could not be completed")))})),h(s,cd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];wd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){md("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Zv[e];if(void 0!==t)return qv(t)}(a),u=i.message;void 0===o&&(o=_d.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Ed(o,u)),s.close()}else md("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,od.STAT_EVENT,(function(e){e.stat===ud.PROXY?md("Connection","Detected buffering proxy"):e.stat===ud.NOPROXY&&md("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){G(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,Q.Z)(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);md("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return md("RestConnection","Received: ",e),e}),(function(t){throw gd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Sk[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Ak(){return"undefined"!=typeof window?window:null}function Nk(){return"undefined"!=typeof document?document:null}function Rk(e){return new ym(e,!0)}var Pk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;G(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return(0,Q.Z)(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&md("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ok=function(){function e(t,n,r,i,a,o,u,s){G(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Pk(t,n)}return(0,Q.Z)(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===_d.RESOURCE_EXHAUSTED?(yd(n.toString()),yd("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===_d.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new Ed(_d.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return md("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(md("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Dk=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return G(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return(0,Q.Z)(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(wd(void 0===t||"string"==typeof t),Yd.fromBase64String(t||"")):(wd(void 0===t||t instanceof Uint8Array),Yd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?_d.UNKNOWN:qv(e.code);return new Ed(t,e.message||"")}(o);n=new lm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Im(e,s.document.name),l=wm(s.document.updateTime),f=new xp({mapValue:{fields:s.document.fields}}),h=Ep.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new sm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Im(e,v.document),y=v.readTime?wm(v.readTime):jd.min(),g=Ep.newNoDocument(m,y),k=v.removedTargetIds||[];n=new sm([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Im(e,b.document),x=b.removedTargetIds||[];n=new sm([],x,w,null)}else{if(!("filter"in t))return bd();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Bv(E),S=_.targetId;n=new cm(S,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return jd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?jd.min():t.readTime?wm(t.readTime):jd.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Cm(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Ap(r)?{documents:Lm(e,r)}:{query:Mm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=km(e,t.resumeToken):t.snapshotVersion.compareTo(jd.min())>0&&(n.readTime=gm(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Cm(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ok),Lk=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return G(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return(0,Q.Z)(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Ut(te(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(wd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(wd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?wm(e.updateTime):wm(t);return n.isEqual(jd.min())&&(n=wm(t)),new Ev(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=wm(e.commitTime);return this.listener.Cr(n,t)}return wd(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Cm(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Om(t.k,e)}))};this.gr(n)}}]),n}(Ok),Mk=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a){var o;return G(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return(0,Q.Z)(n,[{key:"Fr",value:function(){if(this.$r)throw new Ed(_d.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.ir.Bi(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_d.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ed(_d.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.ir.ji(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_d.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ed(_d.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return(0,Q.Z)((function e(){G(this,e)}))}()),Fk=function(){function e(t,n){G(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return(0,Q.Z)(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(yd(t),this.Lr=!1):md("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Zk=(0,Q.Z)((function e(t,n,r,i,a){var o=this;G(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qk(o),!e.t0){e.next=5;break}return md("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xd(t)).Gr.add(4),e.next=4,jk(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Uk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Fk(r,i)}));function Uk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qk(t)){e.next=18;break}n=$(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vk.apply(this,arguments)}function jk(e){return Bk.apply(this,arguments)}function Bk(){return Bk=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Bk.apply(this,arguments)}function zk(e,t){var n=xd(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Gk(n)?Kk(n):xb(n).lr()&&Wk(n,t))}function qk(e,t){var n=xd(e),r=xb(n);n.Wr.delete(t),r.lr()&&Hk(n,t),0===n.Wr.size&&(r.lr()?r._r():Qk(n)&&n.Jr.set("Unknown"))}function Wk(e,t){e.Yr.X(t.targetId),xb(e).br(t)}function Hk(e,t){e.Yr.X(t),xb(e).vr(t)}function Kk(e){e.Yr=new hm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),xb(e).start(),e.Jr.Br()}function Gk(e){return Qk(e)&&!xb(e).hr()&&e.Wr.size>0}function Qk(e){return 0===xd(e).Gr.size}function Yk(e){e.Yr=void 0}function $k(e){return Jk.apply(this,arguments)}function Jk(){return Jk=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Wk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Xk(e,t){return eb.apply(this,arguments)}function eb(){return eb=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yk(t),Gk(t)?(t.Jr.Kr(n),Kk(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t,n){return nb.apply(this,arguments)}function nb(){return nb=Fe(Ue().mark((function e(t,n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof lm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),md("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sm?t.Yr.ot(n):n instanceof cm?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(jd.min())){e.next=29;break}return e.prev=14,e.next=17,Bg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Yd.EMPTY_BYTE_STRING,n.snapshotVersion)),Hk(e,t);var r=new Py(n.target,t,1,n.sequenceNumber);Wk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),md("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nb.apply(this,arguments)}function rb(e,t,n){return ib.apply(this,arguments)}function ib(){return ib=Fe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_y(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,jk(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Bg(t.localStore)}),t.asyncQueue.enqueueRetryable(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return md("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Uk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){return t().catch((function(n){return rb(e,n,t)}))}function ob(e){return ub.apply(this,arguments)}function ub(){return ub=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xd(t),r=_b(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!sb(n)){e.next=19;break}return e.prev=3,e.next=6,Wg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,cb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rb(n,e.t0);case 17:e.next=2;break;case 19:lb(n)&&fb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ub.apply(this,arguments)}function sb(e){return Qk(e)&&e.Qr.length<10}function cb(e,t){e.Qr.push(t);var n=_b(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function lb(e){return Qk(e)&&!_b(e).hr()&&e.Qr.length>0}function fb(e){_b(e).start()}function hb(e){return db.apply(this,arguments)}function db(){return db=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_b(t).kr();case 1:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e){return vb.apply(this,arguments)}function vb(){return vb=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_b(t),r=$(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(e,t,n){return yb.apply(this,arguments)}function yb(){return yb=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Ry.from(i,n,r),e.next=3,ab(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ob(t);case 5:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e,t){return kb.apply(this,arguments)}function kb(){return kb=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&_b(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zv(i=n.code)||i===_d.ABORTED){e.next=7;break}return r=t.Qr.shift(),_b(t).wr(),e.next=5,ab(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ob(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:lb(t)&&fb(t);case 5:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xd(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Uk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,jk(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function xb(e){return e.Xr||(e.Xr=function(e,t,n){var r=xd(e);return r.Fr(),new Dk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:$k.bind(null,e),Ni:Xk.bind(null,e),Pr:tb.bind(null,e)}),e.zr.push(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Gk(e)?Kk(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Yk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function _b(e){return e.Zr||(e.Zr=function(e,t,n){var r=xd(e);return r.Fr(),new Lk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:hb.bind(null,e),Ni:gb.bind(null,e),Nr:pb.bind(null,e),Cr:mb.bind(null,e)}),e.zr.push(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,ob(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(md("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Eb=function(){function e(t,n,r,i,a){G(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Id,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Q.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ed(_d.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ib(e,t){if(yd("AsyncQueue","".concat(t,": ").concat(e)),_y(e))return new Ed(_d.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Sb=function(){function e(t){G(this,e),this.comparator=t?function(e,n){return t(e,n)||up.comparator(e.key,n.key)}:function(e,t){return up.comparator(e.key,t.key)},this.keyedMap=Xv(),this.sortedSet=new Wv(this.comparator)}return(0,Q.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Tb=function(){function e(){G(this,e),this.eo=new Wv(up.comparator)}return(0,Q.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):bd():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Cb=function(){function e(t,n,r,i,a,o,u,s){G(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return(0,Q.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Sb.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ab=(0,Q.Z)((function e(){G(this,e),this.so=void 0,this.listeners=[]})),Nb=(0,Q.Z)((function e(){G(this,e),this.queries=new kg((function(e){return rv(e)}),nv),this.onlineState="Unknown",this.io=new Set}));function Rb(e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=Fe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ab),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ib(e.t0,"Initialization of query '".concat(iv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Fb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pb.apply(this,arguments)}function Ob(e,t){return Db.apply(this,arguments)}function Db(){return Db=Fe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Lb(e,t){var n,r=xd(e),i=!1,a=$(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Fb(r)}function Mb(e,t,n){var r=xd(e),i=r.queries.get(t);if(i){var a,o=$(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Fb(e){e.io.forEach((function(e){e.next()}))}var Zb=function(){function e(t,n,r){G(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return(0,Q.Z)(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Cb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Cb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Ub=function(){function e(t,n){G(this,e),this.payload=t,this.byteLength=n}return(0,Q.Z)(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Vb=function(){function e(t){G(this,e),this.k=t}return(0,Q.Z)(e,[{key:"Hn",value:function(e){return Im(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Rm(this.k,e.document,!1):Ep.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return wm(e)}}]),e}(),jb=function(){function e(t,n,r){G(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Bb(t)}return(0,Q.Z)(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Vb(this.k),i=$(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=$(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||rm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ek(this.localStore,new Vb(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=$(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Og(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var zb=(0,Q.Z)((function e(t){G(this,e),this.key=t})),qb=(0,Q.Z)((function e(t){G(this,e),this.key=t})),Wb=function(){function e(t,n){G(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=rm(),this.mutatedKeys=rm(),this.Ao=ov(t),this.Ro=new Sb(this.Ao)}return(0,Q.Z)(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new Tb,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Gp(this.query)&&i.size===this.query.limit?i.last():null,c=Qp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=av(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Gp(this.query)||Qp(this.query))for(;o.size>this.query.limit;){var l=Gp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bd()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Cb(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Tb,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=rm(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new qb(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new zb(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=rm();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Cb.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Hb=(0,Q.Z)((function e(t,n,r){G(this,e),this.query=t,this.targetId=n,this.view=r})),Kb=(0,Q.Z)((function e(t){G(this,e),this.key=t,this.$o=!1})),Gb=function(){function e(t,n,r,i,a,o){G(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new kg((function(e){return rv(e)}),nv),this.Mo=new Map,this.Lo=new Set,this.Bo=new Wv(up.comparator),this.Uo=new Map,this.qo=new ak,this.Ko={},this.jo=new Map,this.Qo=og.re(),this.onlineState="Unknown",this.Wo=void 0}return(0,Q.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Qb(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bw(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Hg(r.localStore,ev(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,$b(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&zk(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function $b(e,t,n,r){return Jb.apply(this,arguments)}function Jb(){return Jb=Fe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Qg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(gw(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Qg(t.localStore,n,!0);case 3:return a=e.sent,o=new Wb(n,a.zn),u=o.bo(a.documents),s=um.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),gw(t,r,c.Co),l=new Hb(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Xb(e,t){return ew.apply(this,arguments)}function ew(){return ew=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xd(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!nv(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Kg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qk(r.remoteStore,i.targetId),mw(r,i.targetId)})).catch(fg);case 9:e.next=14;break;case 11:return mw(r,i.targetId),e.next=14,Kg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t,n){return nw.apply(this,arguments)}function nw(){return nw=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zw(t),e.prev=1,e.next=4,function(e,t){var n,r=xd(e),i=Vd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),rm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=$(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Nv(c,n.get(c.key));null!=l&&u.push(new Dv(c.key,l,_p(l.value.mapValue),Iv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Wv(Fd)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ww(i,a.changes);case 9:return e.next=11,ob(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ib(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),nw.apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),e.prev=1,e.next=4,zg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(wd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?wd(n.$o):e.removedDocuments.size>0&&(wd(n.$o),n.$o=!1))})),e.next=8,ww(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),iw.apply(this,arguments)}function aw(e,t,n){var r=xd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Fb(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ow(e,t,n){return uw.apply(this,arguments)}function uw(){return uw=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Wv(up.comparator)).insert(o,Ep.newNoDocument(o,jd.min())),s=rm().add(o),c=new om(jd.min(),new Map,new Gv(Fd),u,s),e.next=9,rw(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),bw(i),e.next=16;break;case 14:return e.next=16,Kg(i.localStore,n,!1).then((function(){return mw(i,n,r)})).catch(fg);case 16:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),i=n.batch.batchId,e.prev=1,e.next=4,jg(r.localStore,n);case 4:return a=e.sent,vw(r,i,null),pw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ww(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cw.apply(this,arguments)}function lw(e,t,n){return fw.apply(this,arguments)}function fw(){return fw=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xd(t),e.prev=1,e.next=4,function(e,t){var n=xd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return wd(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,vw(i,n,r),pw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ww(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return dw=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qk((r=xd(t)).remoteStore)||md("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Ib(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),dw.apply(this,arguments)}function pw(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function vw(e,t,n){var r=xd(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||yw(e,t)}))}function yw(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(qk(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),bw(e))}function gw(e,t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof zb?(e.qo.addReference(a.key,t),kw(e,a)):a instanceof qb?(md("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||yw(e,a.key)):bd()}}catch(o){i.e(o)}finally{i.f()}}function kw(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(md("SyncEngine","New document in limbo: "+n),e.Lo.add(r),bw(e))}function bw(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new up(Hd.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Kb(n)),e.Bo=e.Bo.insert(n,r),zk(e.remoteStore,new Py(ev(Kp(n.path)),r,2,Dd.I))}}function ww(e,t,n){return xw.apply(this,arguments)}function xw(){return xw=Fe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xd(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Lg.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gy.forEach(n,(function(t){return gy.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return gy.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_y(e.t0)){e.next=10;break}throw e.t0;case 10:md("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function _w(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xd(t)).currentUser.isEqual(n)){e.next=11;break}return md("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ug(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Ed(_d.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ww(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Iw(e,t){var n=xd(e),r=n.Uo.get(t);if(r&&r.$o)return rm().add(r.key);var i=rm(),a=n.Mo.get(t);if(!a)return i;var o,u=$(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function Sw(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),e.next=3,Qg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&gw(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e){return Aw.apply(this,arguments)}function Aw(){return Aw=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xd(t),e.abrupt("return",$g(n.localStore).then((function(e){return ww(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Nw(e,t,n,r){return Rw.apply(this,arguments)}function Rw(){return Rw=Fe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xd(t),e.next=3,function(e,t){var n=xd(e),r=xd(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):gy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ob(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(vw(a,n,i||null),pw(a,n),function(e,t){xd(xd(e).An).ee(t)}(a.localStore,n)):bd();case 11:return e.next=13,ww(a,o);case 13:e.next=16;break;case 15:md("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Pw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bw(r=xd(t)),zw(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Dw(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,bb(r.remoteStore,!0);case 9:o=$(a);try{for(o.s();!(u=o.n()).done;)s=u.value,zk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return mw(r,t),Kg(r.localStore,t,!0)})),qk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Dw(r,c);case 21:return function(e){var t=xd(e);t.Uo.forEach((function(e,n){qk(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Wv(up.comparator)}(r),r.Wo=!1,e.next=25,bb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Dw(e,t,n){return Lw.apply(this,arguments)}function Lw(){return Lw=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xd(t),a=[],o=[],u=$(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Hg(i.localStore,ev(f[0]));case 11:l=e.sent,h=$(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,Sw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Yg(i.localStore,c);case 36:return y=e.sent,e.next=39,Hg(i.localStore,y);case 39:return l=e.sent,e.next=42,$b(i,Mw(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Lw.apply(this,arguments)}function Mw(e){return Hp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fw(e){var t=xd(e);return xd(xd(t.localStore).persistence).Tn()}function Zw(e,t,n,r){return Uw.apply(this,arguments)}function Uw(){return Uw=Fe(Ue().mark((function e(t,n,r,i){var a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xd(t)).Wo){e.next=5;break}md("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,$g(a.localStore);case 11:return o=e.sent,u=om.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,ww(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Kg(a.localStore,n,!0);case 18:return mw(a,n,i),e.abrupt("break",21);case 20:bd();case 21:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Vw(e,t,n){return jw.apply(this,arguments)}function jw(){return jw=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Bw(t)).Wo){e.next=45;break}a=$(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return md("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Yg(i.localStore,u);case 12:return s=e.sent,e.next=15,Hg(i.localStore,s);case 15:return c=e.sent,e.next=18,$b(i,Mw(s),c.targetId,!1);case 18:zk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$(r),e.prev=30,h=Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Kg(i.localStore,t,!1).then((function(){qk(i.remoteStore,t),mw(i,t)})).catch(fg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),jw.apply(this,arguments)}function Bw(e){var t=xd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ow.bind(null,t),t.Fo.Pr=Lb.bind(null,t.eventManager),t.Fo.zo=Mb.bind(null,t.eventManager),t}function zw(e){var t=xd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lw.bind(null,t),t}function qw(e,t,n){var r=xd(e);(function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xd(e),r=wm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Bb(i)),a=new jb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,ww(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=xd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),gd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ww=function(){function e(){G(this,e),this.synchronizeTabs=!1}return(0,Q.Z)(e,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Rk(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Zg(this.persistence,new Mg,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new fk(dk.ks,this.k)}},{key:"Jo",value:function(e){return new _k}},{key:"terminate",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hw=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,Q.Z)(n,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(te(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Jg(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,zw(this.ta.syncEngine);case 8:return e.next=10,ob(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Zg(this.persistence,new Mg,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new vg(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jy.withCacheSize(this.cacheSizeBytes):Jy.DEFAULT;return new Ag(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ak(),Nk(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new _k}}]),n}(Ww),Kw=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,Q.Z)(n,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){var r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(te(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof xk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Nw.bind(null,r),gi:Zw.bind(null,r),yi:Vw.bind(null,r),Tn:Fw.bind(null,r),_i:Cw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pw(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Ak();if(!xk.bt(t))throw new Ed(_d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Hw),Gw=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return aw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_w.bind(null,this.syncEngine),e.next=12,bb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Nb}},{key:"createDatastore",value:function(e){var t,n=Rk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ck(t));return function(e,t,n,r){return new Mk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return aw(o.syncEngine,e,0)},a=Ik.bt()?new Ik:new Ek,new Zk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Gb(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xd(t),md("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,jk(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Qw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Fe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Yw=function(){function e(t){G(this,e),this.observer=t,this.muted=!1}return(0,Q.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$w=function(){function e(t,n){var r=this;G(this,e),this.sa=t,this.k=n,this.metadata=new Id,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,Q.Z)(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Ub(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jw=function(){function e(t){G(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,Q.Z)(e,[{key:"lookup",value:function(){var e=Fe(Ue().mark((function e(t){var n,r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ed(_d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),i=Cm(r.k)+"/documents",a={documents:n.map((function(e){return Em(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Pm(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());wd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Fe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=up.fromPath(t);n.mutations.push(new jv(r,n.precondition(r)))})),e.next=7,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xd(t),i=Cm(r.k)+"/documents",a={writes:n.map((function(e){return Om(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bd();t=jd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ed(_d.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Iv.updateTime(t):Iv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jd.min()))throw new Ed(_d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Iv.updateTime(t)}return Iv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Xw=function(){function e(t,n,r,i){G(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Pk(this.asyncQueue,"transaction_retry")}return(0,Q.Z)(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Jw(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!ip(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zv(t)}return!1}}]),e}(),ex=function(){function e(t,n,r,i){var a=this;G(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hd.UNAUTHENTICATED,this.clientId=Md.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return md("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return(0,Q.Z)(e,[{key:"getConfiguration",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ed(_d.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Id;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Fe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ib(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),md("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ug(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ax(t);case 3:return r=e.sent,md("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xd(t)).asyncQueue.verifyOperationInProgress(),md("RemoteStore","RemoteStore received new credentials"),i=Qk(r),r.Gr.add(3),e.next=6,jk(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Uk(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e){return ox.apply(this,arguments)}function ox(){return ox=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return md("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,tx(t,new Ww);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e){return sx.apply(this,arguments)}function sx(){return sx=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return md("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,rx(t,new Gw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e){return ax(e).then((function(e){return e.persistence}))}function lx(e){return ax(e).then((function(e){return e.localStore}))}function fx(e){return ux(e).then((function(e){return e.remoteStore}))}function hx(e){return ux(e).then((function(e){return e.syncEngine}))}function dx(e){return px.apply(this,arguments)}function px(){return px=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Qb.bind(null,n.syncEngine),r.onUnlisten=Xb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yw({next:function(a){t.enqueueAndForget((function(){return Ob(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ed(_d.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ed(_d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Zb(Kp(n.path),a,{includeMetadataChanges:!0,wo:!0});return Rb(e,o)},i.next=3,dx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yw({next:function(n){t.enqueueAndForget((function(){return Ob(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ed(_d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Zb(n,a,{includeMetadataChanges:!0,wo:!0});return Rb(e,o)},i.next=3,dx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var yx=(0,Q.Z)((function e(t,n,r,i,a,o,u,s){G(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),gx=function(){function e(t,n){G(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Q.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),kx=new Map;function bx(e,t,n){if(!n)throw new Ed(_d.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wx(e,t,n,r){if(!0===t&&!0===r)throw new Ed(_d.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xx(e){if(!up.isDocumentKey(e))throw new Ed(_d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _x(e){if(up.isDocumentKey(e))throw new Ed(_d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ex(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bd()}function Ix(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ed(_d.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ex(e);throw new Ed(_d.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Sx(e,t){if(t<=0)throw new Ed(_d.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Tx=function(){function e(t){var n;if(G(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ed(_d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ed(_d.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,wx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,Q.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Cx=function(){function e(t,n,r){G(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tx({}),this._settingsFrozen=!1,t instanceof gx?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ed(_d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gx(e.options.projectId)}(t))}return(0,Q.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Ed(_d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ed(_d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Td;switch(e.type){case"gapi":var t=e.client;return wd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Rd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ed(_d.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=kx.get(e);t&&(md("ComponentProvider","Removing Datastore"),kx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ax(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ix(e,Cx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&gd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=hd.MOCK_USER;else{o=pe(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ed(_d.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new hd(s)}e._authCredentials=new Cd(new Sd(o,u))}}var Nx=function(){function e(t,n,r){G(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Q.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Px(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Rx=function(){function e(t,n,r){G(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Q.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Px=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,Kp(i)))._path=i,a.type="collection",a}return(0,Q.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Nx(this.firestore,null,new up(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Rx);function Ox(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Le(e),bx("collection","path",t),e instanceof Cx){var a=Hd.fromString.apply(Hd,[t].concat(r));return _x(a),new Px(e,null,a)}if(!(e instanceof Nx||e instanceof Px))throw new Ed(_d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hd.fromString.apply(Hd,[t].concat(r)));return _x(o),new Px(e.firestore,null,o)}function Dx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Le(e),1===arguments.length&&(t=Md.A()),bx("doc","path",t),e instanceof Cx){var a=Hd.fromString.apply(Hd,[t].concat(r));return xx(a),new Nx(e,null,new up(a))}if(!(e instanceof Nx||e instanceof Px))throw new Ed(_d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hd.fromString.apply(Hd,[t].concat(r)));return xx(o),new Nx(e.firestore,e instanceof Px?e.converter:null,new up(o))}function Lx(e,t){return e=Le(e),t=Le(t),(e instanceof Nx||e instanceof Px)&&(t instanceof Nx||t instanceof Px)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Mx(e,t){return e=Le(e),t=Le(t),e instanceof Rx&&t instanceof Rx&&e.firestore===t.firestore&&nv(e._query,t._query)&&e.converter===t.converter}var Fx=function(){function e(){var t=this;G(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Pk(this,"async_queue_retry"),this.Ra=function(){var e=Nk();e&&md("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Nk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return(0,Q.Z)(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Nk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Id;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_y(e.t0)){e.next=12;break}throw e.t0;case 12:md("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=Eb.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&bd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=$(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Zx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ux=function(){function e(){G(this,e),this._progressObserver={},this._taskCompletionResolver=new Id,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,Q.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Vx=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Fx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,Q.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Bx(this),this._firestoreClient.terminate()}}]),n}(Cx);function jx(e){return e._firestoreClient||Bx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new yx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ex(e._authCredentials,e._appCheckCredentials,e._queue,r)}function zx(e,t,n){var r=new Id;return e.asyncQueue.enqueue(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tx(e,n);case 3:return i.next=5,rx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_d.FAILED_PRECONDITION||e.code===_d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function qx(e){return function(e){return e.asyncQueue.enqueue(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cx(e);case 2:return n=t.sent,t.next=5,fx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xd(e);return t.Gr.delete(0),Uk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(jx(e=Ix(e,Vx)))}function Wx(e){return function(e){return e.asyncQueue.enqueue(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cx(e);case 2:return n=t.sent,t.next=5,fx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xd(t)).Gr.add(0),e.next=4,jk(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(jx(e=Ix(e,Vx)))}function Hx(e,t){var n=jx(e=Ix(e,Vx)),r=new Ux;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new $w(e,t)}(function(e,t){if(e instanceof Uint8Array)return Qw(e,t);if(e instanceof ArrayBuffer)return Qw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Rk(t));e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qw,t.next=3,hx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Kx(e,t){return function(e,t){return e.asyncQueue.enqueue(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,lx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(jx(e=Ix(e,Vx)),t).then((function(t){return t?new Rx(e,null,t.query):null}))}function Gx(e){if(e._initialized||e._terminated)throw new Ed(_d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qx=function(){function e(){G(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ed(_d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gd(n)}return(0,Q.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Yx=function(){function e(t){G(this,e),this._byteString=t}return(0,Q.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Yd.fromBase64String(t))}catch(t){throw new Ed(_d.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Yd.fromUint8Array(t))}}]),e}(),$x=(0,Q.Z)((function e(t){G(this,e),this._methodName=t})),Jx=function(){function e(t,n){if(G(this,e),!isFinite(t)||t<-90||t>90)throw new Ed(_d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ed(_d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Q.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fd(this._lat,e._lat)||Fd(this._long,e._long)}}]),e}(),Xx=/^__.*__$/,e_=function(){function e(t,n,r){G(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Q.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ov(e,this.data,t,this.fieldTransforms)}}]),e}(),t_=function(){function e(t,n,r){G(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Q.Z)(e,[{key:"toMutation",value:function(e,t){return new Dv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function n_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bd()}}var r_=function(){function e(t,n,r,i,a,o){G(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,Q.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return __(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(n_(this.xa)&&Xx.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),i_=function(){function e(t,n,r){G(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Rk(t)}return(0,Q.Z)(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new r_({xa:e,methodName:t,Ka:n,path:Gd.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function a_(e){var t=e._freezeSettings(),n=Rk(e._databaseId);return new i_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function o_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);k_("Data must be an object, but it was:",o,r);var u,s,c=y_(r,o);if(a.merge)u=new Qd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=b_(t,d,n);if(!o.contains(p))throw new Ed(_d.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));E_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Qd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new e_(new xp(c),u,s)}var u_=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($x);function s_(e,t,n){return new r_({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var c_=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"_toFieldTransform",value:function(e){return new _v(e.path,new vv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($x),l_=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Qa=r,i}return(0,Q.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=s_(this,e,!0),n=this.Qa.map((function(e){return m_(e,t)})),r=new mv(n);return new _v(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($x),f_=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Qa=r,i}return(0,Q.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=s_(this,e,!0),n=this.Qa.map((function(e){return m_(e,t)})),r=new gv(n);return new _v(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($x),h_=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Wa=r,i}return(0,Q.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new bv(e.k,lv(e.k,this.Wa));return new _v(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}($x);function d_(e,t,n,r){var i=e.ja(1,t,n);k_("Data must be an object, but it was:",i,r);var a=[],o=xp.empty();zd(r,(function(e,r){var u=x_(t,e,n);r=Le(r);var s=i.La(u);if(r instanceof u_)a.push(u);else{var c=m_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qd(a);return new t_(o,u,i.fieldTransforms)}function p_(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[b_(t,r,n)],s=[i];if(a.length%2!=0)throw new Ed(_d.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(b_(t,a[c])),s.push(a[c+1]);for(var l=[],f=xp.empty(),h=u.length-1;h>=0;--h)if(!E_(l,u[h])){var d=u[h],p=s[h];p=Le(p);var v=o.La(d);if(p instanceof u_)l.push(d);else{var m=m_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Qd(l);return new t_(f,y,o.fieldTransforms)}function v_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return m_(n,e.ja(r?4:3,t))}function m_(e,t){if(g_(e=Le(e)))return k_("Unsupported field value:",t,e),y_(e,t);if(e instanceof $x)return function(e,t){if(!n_(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$(e);try{for(a.s();!(n=a.n()).done;){var o=m_(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Le(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lv(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vd.fromDate(e);return{timestampValue:gm(t.k,n)}}if(e instanceof Vd){var r=new Vd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gm(t.k,r)}}if(e instanceof Jx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yx)return{bytesValue:km(t.k,e._byteString)};if(e instanceof Nx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(Ex(e)))}(e,t)}function y_(e,t){var n={};return qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zd(e,(function(e,r){var i=m_(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function g_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vd||e instanceof Jx||e instanceof Yx||e instanceof Nx||e instanceof $x)}function k_(e,t,n){if(!g_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ex(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function b_(e,t,n){if((t=Le(t))instanceof Qx)return t._internalPath;if("string"==typeof t)return x_(e,t);throw __("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var w_=new RegExp("[~\\*/\\[\\]]");function x_(e,t,n){if(t.search(w_)>=0)throw __("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return oe(Qx,(0,i.Z)(t.split(".")))._internalPath}catch(r){throw __("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function __(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ed(_d.INVALID_ARGUMENT,u+e+s)}function E_(e,t){return e.some((function(e){return e.isEqual(t)}))}var I_=function(){function e(t,n,r,i,a){G(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,Q.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Nx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new S_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(T_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),S_=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"data",value:function(){return Ut(te(n.prototype),"data",this).call(this)}}]),n}(I_);function T_(e,t){return"string"==typeof t?x_(e,t):t instanceof Qx?t._internalPath:t._delegate._internalPath}var C_=function(){function e(t,n){G(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,Q.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),A_=function(e){ee(n,e);var t=ae(n);function n(e,r,i,a,o,u){var s;return G(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,Q.Z)(n,[{key:"exists",value:function(){return Ut(te(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new N_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(T_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(I_),N_=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ut(te(n.prototype),"data",this).call(this,e)}}]),n}(A_),R_=function(){function e(t,n,r,i){G(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new C_(i.hasPendingWrites,i.fromCache),this.query=r}return(0,Q.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new N_(n._firestore,n._userDataWriter,r.key,r,new C_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ed(_d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new N_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new C_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new N_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new C_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:P_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function P_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bd()}}function O_(e,t){return e instanceof A_&&t instanceof A_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof R_&&t instanceof R_&&e._firestore===t._firestore&&Mx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function D_(e){if(Qp(e)&&0===e.explicitOrderBy.length)throw new Ed(_d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var L_=(0,Q.Z)((function e(){G(this,e)}));function M_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var F_=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return(0,Q.Z)(n,[{key:"_apply",value:function(e){var t=a_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ed(_d.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){G_(o,a);var s,c=[],l=$(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(K_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=K_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||G_(o,a),u=v_(n,"where",o,"in"===a||"not-in"===a);var h=Np.create(i,a,u);return function(e,t){if(t.V()){var n=$p(e);if(null!==n&&!n.isEqual(t.field))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Yp(e);null!==r&&Q_(e,t.field,r)}var i=function(e,t){var n,r=$(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ed(_d.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ed(_d.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Rx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(L_);var Z_=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return(0,Q.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jp(t,n);return function(e,t){if(null===Yp(e)){var n=$p(e);null!==n&&Q_(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Rx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Wp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(L_);var U_=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return(0,Q.Z)(n,[{key:"_apply",value:function(e){return new Rx(e.firestore,e.converter,tv(e._query,this.Ya,this.Xa))}}]),n}(L_);var V_=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return(0,Q.Z)(n,[{key:"_apply",value:function(e){var t=H_(e,this.type,this.Za,this.tc);return new Rx(e.firestore,e.converter,function(e,t){return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(L_);function j_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("startAt",t,!0)}function B_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("startAfter",t,!1)}var z_=function(e){ee(n,e);var t=ae(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return(0,Q.Z)(n,[{key:"_apply",value:function(e){var t=H_(e,this.type,this.Za,this.tc);return new Rx(e.firestore,e.converter,function(e,t){return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(L_);function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("endBefore",t,!0)}function W_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("endAt",t,!1)}function H_(e,t,n,r){if(n[0]=Le(n[0]),n[0]instanceof I_)return function(e,t,n,r,i){if(!r)throw new Ed(_d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$(Xp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(vp(t,r.key));else{var c=r.data.field(s.field);if(tp(c))throw new Ed(_d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Up(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=a_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ed(_d.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Jp(e)&&-1!==c.indexOf("/"))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Hd.fromString(c));if(!up.isDocumentKey(l))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new up(l);u.push(vp(t,f))}else{var h=v_(n,r,c);u.push(h)}}return new Up(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function K_(e,t,n){if("string"==typeof(n=Le(n))){if(""===n)throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jp(t)&&-1!==n.indexOf("/"))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hd.fromString(n));if(!up.isDocumentKey(r))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vp(e,new up(r))}if(n instanceof Nx)return vp(e,n._key);throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ex(n),"."))}function G_(e,t){if(!Array.isArray(e)||0===e.length)throw new Ed(_d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ed(_d.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Q_(e,t,n){if(!n.isEqual(t))throw new Ed(_d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Y_=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ep(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Jx(Xd(e.latitude),Xd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=np(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jd(e);return new Vd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hd.fromString(e);wd(Gm(n));var r=new gx(n.get(1),n.get(3)),i=new up(n.popFirst(5));return r.isEqual(t)||yd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var J_=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return(0,Q.Z)(n,[{key:"convertBytes",value:function(e){return new Yx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nx(this.firestore,null,t)}}]),n}(Y_),X_=function(){function e(t,n){G(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=a_(t)}return(0,Q.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=eE(e,this._firestore),i=$_(r.converter,t,n),a=o_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Iv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=eE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Le(t))||t instanceof Qx?p_(this._dataReader,"WriteBatch.update",i._key,t,n,o):d_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Iv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=eE(e,this._firestore);return this._mutations=this._mutations.concat(new Vv(t._key,Iv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ed(_d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function eE(e,t){if((e=Le(e)).firestore!==t)throw new Ed(_d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var tE=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return(0,Q.Z)(n,[{key:"convertBytes",value:function(e){return new Yx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nx(this.firestore,null,t)}}]),n}(Y_);function nE(e){e=Ix(e,Nx);var t=Ix(e.firestore,Vx),n=jx(t),r=new tE(t);return function(e,t){var n=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ed(_d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Ib(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new A_(t,r,e._key,n,new C_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function rE(e){e=Ix(e,Rx);var t=Ix(e.firestore,Vx),n=jx(t),r=new tE(t);return function(e,t){var n=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qg(t,n,!0);case 3:i=e.sent,a=new Wb(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Ib(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new R_(t,r,e,n)}))}function iE(e,t,n){e=Ix(e,Nx);var r=Ix(e.firestore,Vx),i=$_(e.converter,t,n);return sE(r,[o_(a_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Iv.none())])}function aE(e,t,n){e=Ix(e,Nx);for(var r=Ix(e.firestore,Vx),i=a_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return sE(r,[("string"==typeof(t=Le(t))||t instanceof Qx?p_(i,"updateDoc",e._key,t,n,o):d_(i,"updateDoc",e._key,t)).toMutation(e._key,Iv.exists(!0))])}function oE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Le(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Zx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Zx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Nx)l=Ix(e.firestore,Vx),f=Kp(e._key.path),c={next:function(t){n[s]&&n[s](cE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Ix(e,Rx);l=Ix(p.firestore,Vx),f=p._query;var v=new tE(l);c={next:function(e){n[s]&&n[s](new R_(l,v,p,e))},error:n[s+1],complete:n[s+2]},D_(e._query)}return function(e,t,n,r){var i=new Yw(r),a=new Zb(t,i,n);return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rb,t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ob,t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jx(l),f,h,c)}function uE(e,t){return function(e,t){var n=new Yw(t);return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xd(e).io.add(t),t.next()},t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xd(e).io.delete(t)},t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jx(e=Ix(e,Vx)),Zx(t)?t:{next:t})}function sE(e,t){return function(e,t){var n=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=tw,r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(jx(e),t)}function cE(e,t,n){var r=n.docs.get(t._key),i=new tE(e);return new A_(e,i,t._key,r,new C_(n.hasPendingWrites,n.fromCache),t.converter)}var lE=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,Q.Z)(n,[{key:"get",value:function(e){var t=this,r=eE(e,this._firestore),i=new tE(this._firestore);return Ut(te(n.prototype),"get",this).call(this,e).then((function(e){return new A_(t._firestore,i,r._key,e._document,new C_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){G(this,e),this._firestore=t,this._transaction=n,this._dataReader=a_(t)}return(0,Q.Z)(e,[{key:"get",value:function(e){var t=this,n=eE(e,this._firestore),r=new J_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bd();var i=e[0];if(i.isFoundDocument())return new I_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new I_(t._firestore,r,n._key,null,n.converter);throw bd()}))}},{key:"set",value:function(e,t,n){var r=eE(e,this._firestore),i=$_(r.converter,t,n),a=o_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=eE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Le(t))||t instanceof Qx?p_(this._dataReader,"Transaction.update",i._key,t,n,o):d_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=eE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function fE(e,t){return function(e,t){var n=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return ux(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Xw(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(jx(e=Ix(e,Vx)),(function(n){return t(new lE(e,n))}))}function hE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new l_("arrayUnion",t)}function dE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new f_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dd=e}(kt),lt(new Ve("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Vx(i,new Ad(e.getProvider("auth-internal")),new Od(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),It(fd,"3.4.1",e),It(fd,"3.4.1","esm2017")}();function pE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ed("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vE(){if("undefined"===typeof Uint8Array)throw new Ed("unimplemented","Uint8Arrays are not available in this environment.")}function mE(){if("undefined"==typeof atob)throw new Ed("unimplemented","Blobs are unavailable in Firestore in this environment.")}var yE=function(){function e(t){G(this,e),this._delegate=t}return(0,Q.Z)(e,[{key:"toBase64",value:function(){return mE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return vE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return mE(),new e(Yx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return vE(),new e(Yx.fromUint8Array(t))}}]),e}();function gE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kE=function(){function e(){G(this,e)}return(0,Q.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Gx(e=Ix(e,Vx));var n=jx(e),r=e._freezeSettings(),i=new Gw;return zx(n,i,new Hw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Gx(e=Ix(e,Vx));var t=jx(e),n=e._freezeSettings(),r=new Gw;return zx(t,r,new Kw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ed(_d.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Id;return e._queue.enqueueAndForgetEvenWhileRestricted(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(by.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,by.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Pg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bE=function(){function e(t,n,r){var i=this;G(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gx||(this._appCompat=t)}return(0,Q.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ax(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return qx(this._delegate)}},{key:"disableNetwork",value:function(){return Wx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&wx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Id;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=hw,n.next=3,hx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(jx(e=Ix(e,Vx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return uE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ed("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new DE(this,Ox(this._delegate,e))}catch(t){throw SE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IE(this,Dx(this._delegate,e))}catch(t){throw SE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new RE(this,function(e,t){if(e=Ix(e,Cx),bx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ed(_d.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Rx(e,null,function(e){return new Wp(Hd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw SE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return fE(this._delegate,(function(n){return e(new xE(t,n))}))}},{key:"batch",value:function(){var e=this;return jx(this._delegate),new _E(new X_(this._delegate,(function(t){return sE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Hx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Kx(this._delegate,e).then((function(e){return e?new RE(t,e):null}))}}]),e}(),wE=function(e){ee(n,e);var t=ae(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return(0,Q.Z)(n,[{key:"convertBytes",value:function(e){return new yE(new Yx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return IE.forKey(t,this.firestore,null)}}]),n}(Y_);var xE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return(0,Q.Z)(e,[{key:"get",value:function(e){var t=this,n=LE(e);return this._delegate.get(n).then((function(e){return new AE(t._firestore,new A_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LE(e);return n?(pE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}}]),e}(),_E=function(){function e(t){G(this,e),this._delegate=t}return(0,Q.Z)(e,[{key:"set",value:function(e,t,n){var r=LE(e);return n?(pE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),EE=function(){function e(t,n,r){G(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,Q.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new N_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new NE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wE(t),n),i.set(n,a)),a}}]),e}();EE.INSTANCES=new WeakMap;var IE=function(){function e(t,n){G(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return(0,Q.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new DE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new DE(this.firestore,Ox(this._delegate,e))}catch(t){throw SE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Le(e))instanceof Nx&&Lx(this._delegate,e)}},{key:"set",value:function(e,t){t=pE("DocumentReference.set",t);try{return t?iE(this._delegate,e,t):iE(this._delegate,e)}catch(n){throw SE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?aE(this._delegate,e):aE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw SE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return sE(Ix(e.firestore,Vx),[new Vv(e._key,Iv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TE(n),a=CE(n,(function(t){return new AE(e.firestore,new A_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return oE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?nE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ix(e,Nx);var t=Ix(e.firestore,Vx);return vx(jx(t),e._key,{source:"server"}).then((function(n){return cE(t,e,n)}))}(this._delegate):function(e){e=Ix(e,Nx);var t=Ix(e.firestore,Vx);return vx(jx(t),e._key).then((function(n){return cE(t,e,n)}))}(this._delegate),t.then((function(e){return new AE(n.firestore,new A_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ed("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Nx(n._delegate,r,new up(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Nx(n._delegate,r,t))}}]),e}();function SE(e,t,n){return e.message=e.message.replace(t,n),e}function TE(e){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gE(e[0])?e[0]:gE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var AE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return(0,Q.Z)(e,[{key:"ref",get:function(){return new IE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return O_(this._delegate,e._delegate)}}]),e}(),NE=function(e){ee(n,e);var t=ae(n);function n(){return G(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bd()}(void 0!==t),t}}]),n}(AE),RE=function(){function e(t,n){G(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return(0,Q.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,M_(this._delegate,function(e,t,n){var r=t,i=T_("where",e);return new F_(i,r,n)}(t,n,r)))}catch(i){throw SE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,M_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=T_("orderBy",e);return new Z_(n,t)}(t,n)))}catch(r){throw SE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,M_(this._delegate,function(e){return Sx("limit",e),new U_("limit",e,"F")}(t)))}catch(n){throw SE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,M_(this._delegate,function(e){return Sx("limitToLast",e),new U_("limitToLast",e,"L")}(t)))}catch(n){throw SE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,M_(this._delegate,j_.apply(void 0,arguments)))}catch(t){throw SE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,M_(this._delegate,B_.apply(void 0,arguments)))}catch(t){throw SE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,M_(this._delegate,q_.apply(void 0,arguments)))}catch(t){throw SE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,M_(this._delegate,W_.apply(void 0,arguments)))}catch(t){throw SE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Mx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?rE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ix(e,Rx);var t=Ix(e.firestore,Vx),n=jx(t),r=new tE(t);return mx(n,e._query,{source:"server"}).then((function(n){return new R_(t,r,e,n)}))}(this._delegate):function(e){e=Ix(e,Rx);var t=Ix(e.firestore,Vx),n=jx(t),r=new tE(t);return D_(e._query),mx(n,e._query).then((function(n){return new R_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new OE(n.firestore,new R_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TE(n),a=CE(n,(function(t){return new OE(e.firestore,new R_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return oE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),PE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return(0,Q.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new NE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),OE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return(0,Q.Z)(e,[{key:"query",get:function(){return new RE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new NE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new PE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new NE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return O_(this._delegate,e._delegate)}}]),e}(),DE=function(e){ee(n,e);var t=ae(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,Q.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IE(this.firestore,void 0===e?Dx(this._delegate):Dx(this._delegate,e))}catch(t){throw SE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ix(e.firestore,Vx),r=Dx(e),i=$_(e.converter,t);return sE(n,[o_(a_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Iv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Lx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(EE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(RE);function LE(e){return Ix(e,Nx)}var ME=function(){function e(){G(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=oe(Qx,n)}return(0,Q.Z)(e,[{key:"isEqual",value:function(e){return(e=Le(e))instanceof Qx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gd.keyField().canonicalString())}}]),e}(),FE=function(){function e(t){G(this,e),this._delegate=t}return(0,Q.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new c_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new u_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=hE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=dE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new h_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZE={Firestore:bE,GeoPoint:Jx,Timestamp:Vd,Blob:yE,Transaction:xE,WriteBatch:_E,DocumentReference:IE,DocumentSnapshot:AE,Query:RE,QueryDocumentSnapshot:NE,QuerySnapshot:OE,CollectionReference:DE,FieldPath:ME,FieldValue:FE,setLogLevel:function(e){!function(e){pd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ve("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZE)))}(e,(function(e,t){return new bE(e,t,new kE)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Dt);var UE=Dt.initializeApp({apiKey:"AIzaSyAbc_e8-cn--VgGCIucHEN_YH_A6FnYRvA",authDomain:"chatapp-e0929.firebaseapp.com",projectId:"chatapp-e0929",storageBucket:"chatapp-e0929.appspot.com",messagingSenderId:"252636273218",appId:"1:252636273218:web:503e2321b525228bf5abdb"}).firestore();function VE(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}VE("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),VE("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var jE=VE("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),BE=VE("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),zE={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},qE={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},WE=zE,HE="elevator",KE=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},GE=function(e){return(GE=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var QE=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),YE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},JE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},eI=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function tI(e){var n,r;return r=n=function(n){function r(){return $E(this,r),eI(this,n.apply(this,arguments))}return XE(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,WE),enterAnimation:this.convertAnimationProp(e.enterAnimation,zE),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,qE),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=JE({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":YE(e)){case"boolean":return t[e?HE:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t.elevator:t[e];default:return e}},r.prototype.render=function(){return t.createElement(e,this.convertProps(this.props))},r}(t.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:HE,leaveAnimation:HE,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function nI(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(QE(e),n[e])}))}var rI=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,a=(0,e.getPosition)(t),o=a.top-i.top,u=a.left-i.left;return[r.left-u,r.top-o]},iI=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,a=t.staggerDelayBy,o=t.easing;n+=e*a,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+o+" "+n+"ms"})).join(", ")},aI=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=KE((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),oI=!aI;function uI(e){return e.key||""}function sI(e){return t.Children.toArray(e)}var cI=function(e){function n(){var t,i;$E(this,n);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return t=i=eI(this,e.call.apply(e,[this].concat(o))),i.state={children:sI(i.props?i.props.children:[]).map((function(e){return JE({},e,{element:e,appearing:!0})}))},i.childrenData={},i.parentData={domNode:null,boundingBox:null},i.heightPlaceholderData={domNode:null},i.remainingAnimations=0,i.childrenToAnimate=[],i.findDOMContainer=function(){var e=r.findDOMNode(i),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",jE()),i.parentData.domNode=t)},i.runAnimation=function(){var e=i.state.children.filter(i.doesChildNeedToBeAnimated),t=e.map((function(e){return i.computeInitialStyles(e)}));e.forEach((function(e,n){i.remainingAnimations+=1,i.childrenToAnimate.push(uI(e)),i.animateChild(e,n,t[n])})),"function"===typeof i.props.onStartAll&&i.callChildrenHook(i.props.onStartAll)},i.doesChildNeedToBeAnimated=function(e){if(!uI(e))return!1;var t=i.getChildData(uI(e)),n=t.domNode,r=t.boundingBox,a=i.parentData.boundingBox;if(!n)return!1;var o=i.props,u=o.appearAnimation,s=o.enterAnimation,c=o.leaveAnimation,l=o.getPosition,f=e.appearing&&u,h=e.entering&&s,d=e.leaving&&c;if(f||h||d)return!0;var p=rI({childDomNode:n,childBoundingBox:r,parentBoundingBox:a,getPosition:l}),v=p[0],m=p[1];return 0!==v||0!==m},eI(i,t)}return XE(n,e),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=!function(e,t){if(e===t)return!0;var n=!GE(e)||!GE(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(sI(this.props.children).map((function(e){return e.key})),sI(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props);t&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return JE({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,a){if(!KE((function(e){return e.key===uI(i)}),e)&&t.props.leaveAnimation){var o=JE({},i,{leaving:!0}),u=a+r;n.splice(u,0,o),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(uI(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&BE(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),a=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return JE({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});nI({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-a["margin-top"]+"px",left:r.left-a["margin-left"]+"px",right:r.right-a["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,a=n.boundingBox;if(i&&a){nI({domNode:t,styles:{height:"0"}});var o=a.height-r(i).height;nI({domNode:t,styles:{height:o>0?o+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(uI(t)).domNode;n&&(t.entering||t.leaving||nI({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=sI(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return JE({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(uI(e)).domNode;i&&(nI({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:iI(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=JE({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=JE({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=JE({},n,r.props.leaveAnimation.to)),nI({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(uI(e)).domNode;if(n){n.addEventListener(aI,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(aI,r),e.leaving&&t.removeChildData(uI(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return JE({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=uI(r);if(i)if(e.hasChildData(i)){var a=e.getChildData(i);a.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),a=r(t),o=a.top,u=a.left,s=a.right,c=a.bottom,l=a.width,f=a.height;return{top:o-i.top,left:u-i.left,right:i.right-s,bottom:i.bottom-c,width:l,height:f}}({childDomNode:a.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=uI(t),a=n[r];i&&e.setChildData(i,{boundingBox:a})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?JE({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(uI(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var a=rI({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+a[0]+"px, "+a[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return oI||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return KE((function(t){return uI(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=JE({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return JE({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var e=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,t.createElement)(r,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(n){return(0,t.cloneElement)(n.element,{ref:function(t){if(t){var i=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,r.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(t);e.setChildData(uI(n),{domNode:i})}}})}))},n.prototype.render=function(){var e=this,n=this.props,r=n.typeName,i=n.delegated,a=n.leaveAnimation,o=n.maintainContainerHeight,u=this.childrenWithRefs();if(a&&o&&u.push(this.createHeightPlaceholder()),!r)return u;var s=JE({},i,{children:u,ref:function(t){e.parentData.domNode=t}});return(0,t.createElement)(r,s)},n}(t.Component),lI=tI(cI),fI=n(694),hI=n(108),dI=n(216),pI=n(175),vI=n(366),mI=n(578),yI=t.createContext(null);function gI(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function kI(e,t,n){return null!=n[t]?n[t]:e.props[t]}function bI(e,n,r){var i=gI(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:kI(u,"exit",e),enter:kI(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:kI(u,"exit",e),enter:kI(u,"enter",e)})}})),a}var wI=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},xI=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,J.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,mI.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,gI(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:kI(e,"appear",r),enter:kI(e,"enter",r),exit:kI(e,"exit",r)})}))):bI(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=gI(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,vI.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=wI(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(yI.Provider,{value:a},o):t.createElement(yI.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);xI.propTypes={},xI.defaultProps={component:"div",childFactory:function(e){return e}};var _I=xI,EI="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var II=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,c=e.in,l=e.onExited,f=void 0===l?function(){}:l,h=e.timeout,d=t.useState(!1),p=d[0],v=d[1],m=(0,s.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:u,height:u,top:-u/2+o,left:-u/2+a},g=(0,s.Z)(n.child,p&&n.childLeaving,i&&n.childPulsate),k=(0,dI.Z)(f);return EI((function(){if(!c){v(!0);var e=setTimeout(k,h);return function(){clearTimeout(e)}}}),[k,c,h]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:g}))},SI=t.forwardRef((function(e,n){var r=e.center,a=void 0!==r&&r,c=e.classes,l=e.className,f=(0,u.Z)(e,["center","classes","className"]),h=t.useState([]),d=h[0],p=h[1],v=t.useRef(0),m=t.useRef(null);t.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var y=t.useRef(!1),g=t.useRef(null),k=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,a=e.rippleY,o=e.rippleSize,u=e.cb;p((function(e){return[].concat((0,i.Z)(e),[t.createElement(II,{key:v.current,classes:c,timeout:550,pulsate:n,rippleX:r,rippleY:a,rippleSize:o})])})),v.current+=1,m.current=u}),[c]),x=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(E,2))}e.touches?null===k.current&&(k.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},g.current=setTimeout((function(){k.current&&(k.current(),k.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,w]),_=t.useCallback((function(){x({},{pulsate:!0})}),[x]),E=t.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&k.current)return e.persist(),k.current(),k.current=null,void(g.current=setTimeout((function(){E(e,t)})));k.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:_,start:x,stop:E}}),[_,x,E]),t.createElement("span",(0,o.Z)({className:(0,s.Z)(c.root,l),ref:b},f),t.createElement(_I,{component:null,exit:!0},d))})),TI=(0,f.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(SI)),CI=t.forwardRef((function(e,n){var i=e.action,a=e.buttonRef,c=e.centerRipple,l=void 0!==c&&c,f=e.children,h=e.classes,d=e.className,p=e.component,v=void 0===p?"button":p,m=e.disabled,y=void 0!==m&&m,g=e.disableRipple,k=void 0!==g&&g,b=e.disableTouchRipple,w=void 0!==b&&b,x=e.focusRipple,_=void 0!==x&&x,E=e.focusVisibleClassName,S=e.onBlur,T=e.onClick,C=e.onFocus,A=e.onFocusVisible,N=e.onKeyDown,R=e.onKeyUp,P=e.onMouseDown,O=e.onMouseLeave,D=e.onMouseUp,L=e.onTouchEnd,M=e.onTouchMove,F=e.onTouchStart,Z=e.onDragLeave,U=e.tabIndex,V=void 0===U?0:U,j=e.TouchRippleProps,B=e.type,z=void 0===B?"button":B,q=(0,u.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),W=t.useRef(null);var H=t.useRef(null),K=t.useState(!1),G=K[0],Q=K[1];y&&G&&Q(!1);var Y=(0,pI.Z)(),$=Y.isFocusVisible,J=Y.onBlurVisible,X=Y.ref;function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return(0,dI.Z)((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useImperativeHandle(i,(function(){return{focusVisible:function(){Q(!0),W.current.focus()}}}),[]),t.useEffect((function(){G&&_&&!k&&H.current.pulsate()}),[k,_,G]);var te=ee("start",P),ne=ee("stop",Z),re=ee("stop",D),ie=ee("stop",(function(e){G&&e.preventDefault(),O&&O(e)})),ae=ee("start",F),oe=ee("stop",L),ue=ee("stop",M),se=ee("stop",(function(e){G&&(J(e),Q(!1)),S&&S(e)}),!1),ce=(0,dI.Z)((function(e){W.current||(W.current=e.currentTarget),$(e)&&(Q(!0),A&&A(e)),C&&C(e)})),le=function(){var e=r.findDOMNode(W.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},fe=t.useRef(!1),he=(0,dI.Z)((function(e){_&&!fe.current&&G&&H.current&&" "===e.key&&(fe.current=!0,e.persist(),H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),de=(0,dI.Z)((function(e){_&&" "===e.key&&H.current&&G&&!e.defaultPrevented&&(fe.current=!1,e.persist(),H.current.stop(e,(function(){H.current.pulsate(e)}))),R&&R(e),T&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&T(e)})),pe=v;"button"===pe&&q.href&&(pe="a");var ve={};"button"===pe?(ve.type=z,ve.disabled=y):("a"===pe&&q.href||(ve.role="button"),ve["aria-disabled"]=y);var me=(0,I.Z)(a,n),ye=(0,I.Z)(X,W),ge=(0,I.Z)(me,ye),ke=t.useState(!1),be=ke[0],we=ke[1];t.useEffect((function(){we(!0)}),[]);var xe=be&&!k&&!y;return t.createElement(pe,(0,o.Z)({className:(0,s.Z)(h.root,d,G&&[h.focusVisible,E],y&&h.disabled),onBlur:se,onClick:T,onFocus:ce,onKeyDown:he,onKeyUp:de,onMouseDown:te,onMouseLeave:ie,onMouseUp:re,onDragLeave:ne,onTouchEnd:oe,onTouchMove:ue,onTouchStart:ae,ref:ge,tabIndex:y?-1:V},ve,q),f,xe?t.createElement(TI,(0,o.Z)({ref:H,center:l},j)):null)})),AI=(0,f.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(CI),NI=t.forwardRef((function(e,n){var r=e.edge,i=void 0!==r&&r,a=e.children,c=e.classes,l=e.className,f=e.color,d=void 0===f?"default":f,p=e.disabled,v=void 0!==p&&p,m=e.disableFocusRipple,y=void 0!==m&&m,g=e.size,k=void 0===g?"medium":g,b=(0,u.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return t.createElement(AI,(0,o.Z)({className:(0,s.Z)(c.root,l,"default"!==d&&c["color".concat((0,h.Z)(d))],v&&c.disabled,"small"===k&&c["size".concat((0,h.Z)(k))],{start:c.edgeStart,end:c.edgeEnd}[i]),centerRipple:!0,focusRipple:!y,disabled:v,ref:n},b),t.createElement("span",{className:c.label},a))})),RI=(0,f.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,hI.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,hI.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,hI.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(NI);var PI=function(){var e=(0,t.useState)(""),n=(0,a.Z)(e,2),r=n[0],o=n[1],u=(0,t.useState)([]),s=(0,a.Z)(u,2),c=s[0],l=s[1],f=(0,t.useState)(""),h=(0,a.Z)(f,2),d=h[0],p=h[1];return(0,t.useEffect)((function(){UE.collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,message:e.data()}})))}))}),[]),(0,t.useEffect)((function(){p(prompt("Please enter your username"))}),[]),console.log(c),(0,W.jsxs)("div",{className:"App",children:[(0,W.jsx)("h1",{children:"hello"}),(0,W.jsxs)("h1",{children:["Welcome",d]}),(0,W.jsx)("form",{className:"app__form",children:(0,W.jsxs)(y,{className:"app__formControl",children:[(0,W.jsx)(_,{children:"Enter a msg"}),(0,W.jsx)(L,{className:"app__input",value:r,onChange:function(e){return o(e.target.value)}}),(0,W.jsx)(RI,{className:"app__iconButton",disabled:!r,variant:"contained",color:"primary",type:"submit",onClick:function(e){e.preventDefault(),UE.collection("messages").add({message:r,username:d,timestamp:Dt.firestore.FieldValue.serverTimestamp()}),l([].concat((0,i.Z)(c),[{username:d,message:r}])),o("")},children:(0,W.jsx)(fI.Z,{})})]})}),(0,W.jsx)(lI,{children:c.map((function(e){var t=e.id,n=e.message;return(0,W.jsx)(H,{username:d,message:n},t)}))})]})},OI=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,W.jsx)(t.StrictMode,{children:(0,W.jsx)(PI,{})}),document.getElementById("root")),OI()}()}();
//# sourceMappingURL=main.f5b69094.js.map